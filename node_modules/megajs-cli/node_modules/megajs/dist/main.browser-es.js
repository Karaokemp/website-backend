var _Mathceil=Math.ceil,_StringfromCharCode=String.fromCharCode,_Mathmin=Math.min,_Mathfloor=Math.floor,_Mathlog=Math.log,_Mathpow=Math.pow,E='undefined'==typeof window?'undefined'==typeof global?{}:global:window;function S(Vi,Ji){return Ji={exports:{}},Vi(Ji,Ji.exports,E),Ji.exports}var I='undefined'==typeof global?'undefined'==typeof self?'undefined'==typeof window?{}:window:self:global,R=[],A=[],C='undefined'==typeof Uint8Array?Array:Uint8Array,B=!1;function P(){B=!0;for(var Vi='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',Ji=0,Qi=Vi.length;Ji<Qi;++Ji)R[Ji]=Vi[Ji],A[Vi.charCodeAt(Ji)]=Ji;A['-'.charCodeAt(0)]=62,A['_'.charCodeAt(0)]=63}function O(Vi){B||P();var Ji,Qi,Zi,$i,es,ns,as=Vi.length;if(0<as%4)throw new Error('Invalid string. Length must be a multiple of 4');es='='===Vi[as-2]?2:'='===Vi[as-1]?1:0,ns=new C(3*as/4-es),Zi=0<es?as-4:as;var os=0;for(Ji=0,Qi=0;Ji<Zi;Ji+=4,Qi+=3)$i=A[Vi.charCodeAt(Ji)]<<18|A[Vi.charCodeAt(Ji+1)]<<12|A[Vi.charCodeAt(Ji+2)]<<6|A[Vi.charCodeAt(Ji+3)],ns[os++]=255&$i>>16,ns[os++]=255&$i>>8,ns[os++]=255&$i;return 2===es?($i=A[Vi.charCodeAt(Ji)]<<2|A[Vi.charCodeAt(Ji+1)]>>4,ns[os++]=255&$i):1===es&&($i=A[Vi.charCodeAt(Ji)]<<10|A[Vi.charCodeAt(Ji+1)]<<4|A[Vi.charCodeAt(Ji+2)]>>2,ns[os++]=255&$i>>8,ns[os++]=255&$i),ns}function T(Vi){return R[63&Vi>>18]+R[63&Vi>>12]+R[63&Vi>>6]+R[63&Vi]}function D(Vi,Ji,Qi){for(var Zi,$i=[],es=Ji;es<Qi;es+=3)Zi=(Vi[es]<<16)+(Vi[es+1]<<8)+Vi[es+2],$i.push(T(Zi));return $i.join('')}function M(Vi){B||P();for(var Ji,Qi=Vi.length,Zi=Qi%3,$i='',es=[],ns=16383,as=0,os=Qi-Zi;as<os;as+=ns)es.push(D(Vi,as,as+ns>os?os:as+ns));return 1==Zi?(Ji=Vi[Qi-1],$i+=R[Ji>>2],$i+=R[63&Ji<<4],$i+='=='):2==Zi&&(Ji=(Vi[Qi-2]<<8)+Vi[Qi-1],$i+=R[Ji>>10],$i+=R[63&Ji>>4],$i+=R[63&Ji<<2],$i+='='),es.push($i),es.join('')}function U(Vi,Ji,Qi,Zi,$i){var es,ns,as=8*$i-Zi-1,os=(1<<as)-1,is=os>>1,ss=-7,ds=Qi?$i-1:0,ls=Qi?-1:1,us=Vi[Ji+ds];for(ds+=ls,es=us&(1<<-ss)-1,us>>=-ss,ss+=as;0<ss;es=256*es+Vi[Ji+ds],ds+=ls,ss-=8);for(ns=es&(1<<-ss)-1,es>>=-ss,ss+=Zi;0<ss;ns=256*ns+Vi[Ji+ds],ds+=ls,ss-=8);if(0===es)es=1-is;else{if(es===os)return ns?NaN:(us?-1:1)*Infinity;ns+=_Mathpow(2,Zi),es-=is}return(us?-1:1)*ns*_Mathpow(2,es-Zi)}function z(Vi,Ji,Qi,Zi,$i,es){var ns,as,os,is=8*es-$i-1,ss=(1<<is)-1,ds=ss>>1,ls=23===$i?5.960464477539063e-8-6.617444900424222e-24:0,us=Zi?0:es-1,ps=Zi?1:-1,hs=0>Ji||0===Ji&&0>1/Ji?1:0;for(Ji=Math.abs(Ji),isNaN(Ji)||Ji===Infinity?(as=isNaN(Ji)?1:0,ns=ss):(ns=_Mathfloor(_Mathlog(Ji)/Math.LN2),1>Ji*(os=_Mathpow(2,-ns))&&(ns--,os*=2),Ji+=1<=ns+ds?ls/os:ls*_Mathpow(2,1-ds),2<=Ji*os&&(ns++,os/=2),ns+ds>=ss?(as=0,ns=ss):1<=ns+ds?(as=(Ji*os-1)*_Mathpow(2,$i),ns+=ds):(as=Ji*_Mathpow(2,ds-1)*_Mathpow(2,$i),ns=0));8<=$i;Vi[Qi+us]=255&as,us+=ps,as/=256,$i-=8);for(ns=ns<<$i|as,is+=$i;0<is;Vi[Qi+us]=255&ns,us+=ps,ns/=256,is-=8);Vi[Qi+us-ps]|=128*hs}var N={}.toString,Y=Array.isArray||function(Vi){return'[object Array]'==N.call(Vi)},F=50;H.TYPED_ARRAY_SUPPORT=!(I.TYPED_ARRAY_SUPPORT!==void 0)||I.TYPED_ARRAY_SUPPORT;function W(){return H.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function K(Vi,Ji){if(W()<Ji)throw new RangeError('Invalid typed array length');return H.TYPED_ARRAY_SUPPORT?(Vi=new Uint8Array(Ji),Vi.__proto__=H.prototype):(null===Vi&&(Vi=new H(Ji)),Vi.length=Ji),Vi}function H(Vi,Ji,Qi){if(!H.TYPED_ARRAY_SUPPORT&&!(this instanceof H))return new H(Vi,Ji,Qi);if('number'==typeof Vi){if('string'==typeof Ji)throw new Error('If encoding is specified then the first argument must be a string');return J(this,Vi)}return G(this,Vi,Ji,Qi)}H.poolSize=8192,H._augment=function(Vi){return Vi.__proto__=H.prototype,Vi};function G(Vi,Ji,Qi,Zi){if('number'==typeof Ji)throw new TypeError('"value" argument must not be a number');return'undefined'!=typeof ArrayBuffer&&Ji instanceof ArrayBuffer?$(Vi,Ji,Qi,Zi):'string'==typeof Ji?Q(Vi,Ji,Qi):ee(Vi,Ji)}H.from=function(Vi,Ji,Qi){return G(null,Vi,Ji,Qi)},H.TYPED_ARRAY_SUPPORT&&(H.prototype.__proto__=Uint8Array.prototype,H.__proto__=Uint8Array,'undefined'!=typeof Symbol&&Symbol.species&&H[Symbol.species]===H);function X(Vi){if('number'!=typeof Vi)throw new TypeError('"size" argument must be a number');else if(0>Vi)throw new RangeError('"size" argument must not be negative')}function V(Vi,Ji,Qi,Zi){return X(Ji),0>=Ji?K(Vi,Ji):void 0===Qi?K(Vi,Ji):'string'==typeof Zi?K(Vi,Ji).fill(Qi,Zi):K(Vi,Ji).fill(Qi)}H.alloc=function(Vi,Ji,Qi){return V(null,Vi,Ji,Qi)};function J(Vi,Ji){if(X(Ji),Vi=K(Vi,0>Ji?0:0|te(Ji)),!H.TYPED_ARRAY_SUPPORT)for(var Qi=0;Qi<Ji;++Qi)Vi[Qi]=0;return Vi}H.allocUnsafe=function(Vi){return J(null,Vi)},H.allocUnsafeSlow=function(Vi){return J(null,Vi)};function Q(Vi,Ji,Qi){if(('string'!=typeof Qi||''===Qi)&&(Qi='utf8'),!H.isEncoding(Qi))throw new TypeError('"encoding" must be a valid string encoding');var Zi=0|oe(Ji,Qi);Vi=K(Vi,Zi);var $i=Vi.write(Ji,Qi);return $i!==Zi&&(Vi=Vi.slice(0,$i)),Vi}function Z(Vi,Ji){var Qi=0>Ji.length?0:0|te(Ji.length);Vi=K(Vi,Qi);for(var Zi=0;Zi<Qi;Zi+=1)Vi[Zi]=255&Ji[Zi];return Vi}function $(Vi,Ji,Qi,Zi){if(Ji.byteLength,0>Qi||Ji.byteLength<Qi)throw new RangeError('\'offset\' is out of bounds');if(Ji.byteLength<Qi+(Zi||0))throw new RangeError('\'length\' is out of bounds');return Ji=void 0===Qi&&void 0===Zi?new Uint8Array(Ji):void 0===Zi?new Uint8Array(Ji,Qi):new Uint8Array(Ji,Qi,Zi),H.TYPED_ARRAY_SUPPORT?(Vi=Ji,Vi.__proto__=H.prototype):Vi=Z(Vi,Ji),Vi}function ee(Vi,Ji){if(ne(Ji)){var Qi=0|te(Ji.length);return(Vi=K(Vi,Qi),0===Vi.length)?Vi:(Ji.copy(Vi,0,0,Qi),Vi)}if(Ji){if('undefined'!=typeof ArrayBuffer&&Ji.buffer instanceof ArrayBuffer||'length'in Ji)return'number'!=typeof Ji.length||Ye(Ji.length)?K(Vi,0):Z(Vi,Ji);if('Buffer'===Ji.type&&Y(Ji.data))return Z(Vi,Ji.data)}throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')}function te(Vi){if(Vi>=W())throw new RangeError('Attempt to allocate Buffer larger than maximum size: 0x'+W().toString(16)+' bytes');return 0|Vi}H.isBuffer=Fe;function ne(Vi){return!!(null!=Vi&&Vi._isBuffer)}H.compare=function(Ji,Qi){if(!ne(Ji)||!ne(Qi))throw new TypeError('Arguments must be Buffers');if(Ji===Qi)return 0;for(var Zi=Ji.length,$i=Qi.length,es=0,ns=_Mathmin(Zi,$i);es<ns;++es)if(Ji[es]!==Qi[es]){Zi=Ji[es],$i=Qi[es];break}return Zi<$i?-1:$i<Zi?1:0},H.isEncoding=function(Ji){switch((Ji+'').toLowerCase()){case'hex':case'utf8':case'utf-8':case'ascii':case'latin1':case'binary':case'base64':case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return!0;default:return!1;}},H.concat=function(Ji,Qi){if(!Y(Ji))throw new TypeError('"list" argument must be an Array of Buffers');if(0===Ji.length)return H.alloc(0);var Zi;if(Qi===void 0)for(Qi=0,Zi=0;Zi<Ji.length;++Zi)Qi+=Ji[Zi].length;var $i=H.allocUnsafe(Qi),es=0;for(Zi=0;Zi<Ji.length;++Zi){var ns=Ji[Zi];if(!ne(ns))throw new TypeError('"list" argument must be an Array of Buffers');ns.copy($i,es),es+=ns.length}return $i};function oe(Vi,Ji){if(ne(Vi))return Vi.length;if('undefined'!=typeof ArrayBuffer&&'function'==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(Vi)||Vi instanceof ArrayBuffer))return Vi.byteLength;'string'!=typeof Vi&&(Vi=''+Vi);var Qi=Vi.length;if(0===Qi)return 0;for(var Zi=!1;;)switch(Ji){case'ascii':case'latin1':case'binary':return Qi;case'utf8':case'utf-8':case void 0:return De(Vi).length;case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return 2*Qi;case'hex':return Qi>>>1;case'base64':return ze(Vi).length;default:if(Zi)return De(Vi).length;Ji=(''+Ji).toLowerCase(),Zi=!0;}}H.byteLength=oe;function ie(Vi,Ji,Qi){var Zi=!1;if((void 0===Ji||0>Ji)&&(Ji=0),Ji>this.length)return'';if((void 0===Qi||Qi>this.length)&&(Qi=this.length),0>=Qi)return'';if(Qi>>>=0,Ji>>>=0,Qi<=Ji)return'';for(Vi||(Vi='utf8');;)switch(Vi){case'hex':return Se(this,Ji,Qi);case'utf8':case'utf-8':return be(this,Ji,Qi);case'ascii':return Ee(this,Ji,Qi);case'latin1':case'binary':return ke(this,Ji,Qi);case'base64':return ye(this,Ji,Qi);case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return Ie(this,Ji,Qi);default:if(Zi)throw new TypeError('Unknown encoding: '+Vi);Vi=(Vi+'').toLowerCase(),Zi=!0;}}H.prototype._isBuffer=!0;function se(Vi,Ji,Qi){var Zi=Vi[Ji];Vi[Ji]=Vi[Qi],Vi[Qi]=Zi}H.prototype.swap16=function(){var Ji=this.length;if(0!=Ji%2)throw new RangeError('Buffer size must be a multiple of 16-bits');for(var Qi=0;Qi<Ji;Qi+=2)se(this,Qi,Qi+1);return this},H.prototype.swap32=function(){var Ji=this.length;if(0!=Ji%4)throw new RangeError('Buffer size must be a multiple of 32-bits');for(var Qi=0;Qi<Ji;Qi+=4)se(this,Qi,Qi+3),se(this,Qi+1,Qi+2);return this},H.prototype.swap64=function(){var Ji=this.length;if(0!=Ji%8)throw new RangeError('Buffer size must be a multiple of 64-bits');for(var Qi=0;Qi<Ji;Qi+=8)se(this,Qi,Qi+7),se(this,Qi+1,Qi+6),se(this,Qi+2,Qi+5),se(this,Qi+3,Qi+4);return this},H.prototype.toString=function(){var Ji=0|this.length;return 0==Ji?'':0===arguments.length?be(this,0,Ji):ie.apply(this,arguments)},H.prototype.equals=function(Ji){if(!ne(Ji))throw new TypeError('Argument must be a Buffer');return this===Ji||0===H.compare(this,Ji)},H.prototype.inspect=function(){var Ji='',Qi=F;return 0<this.length&&(Ji=this.toString('hex',0,Qi).match(/.{2}/g).join(' '),this.length>Qi&&(Ji+=' ... ')),'<Buffer '+Ji+'>'},H.prototype.compare=function(Ji,Qi,Zi,$i,es){if(!ne(Ji))throw new TypeError('Argument must be a Buffer');if(void 0===Qi&&(Qi=0),void 0===Zi&&(Zi=Ji?Ji.length:0),void 0===$i&&($i=0),void 0===es&&(es=this.length),0>Qi||Zi>Ji.length||0>$i||es>this.length)throw new RangeError('out of range index');if($i>=es&&Qi>=Zi)return 0;if($i>=es)return-1;if(Qi>=Zi)return 1;if(Qi>>>=0,Zi>>>=0,$i>>>=0,es>>>=0,this===Ji)return 0;for(var ns=es-$i,as=Zi-Qi,os=_Mathmin(ns,as),is=this.slice($i,es),ss=Ji.slice(Qi,Zi),ds=0;ds<os;++ds)if(is[ds]!==ss[ds]){ns=is[ds],as=ss[ds];break}return ns<as?-1:as<ns?1:0};function le(Vi,Ji,Qi,Zi,$i){if(0===Vi.length)return-1;if('string'==typeof Qi?(Zi=Qi,Qi=0):2147483647<Qi?Qi=2147483647:-2147483648>Qi&&(Qi=-2147483648),Qi=+Qi,isNaN(Qi)&&(Qi=$i?0:Vi.length-1),0>Qi&&(Qi=Vi.length+Qi),Qi>=Vi.length){if($i)return-1;Qi=Vi.length-1}else if(0>Qi)if($i)Qi=0;else return-1;if('string'==typeof Ji&&(Ji=H.from(Ji,Zi)),ne(Ji))return 0===Ji.length?-1:ue(Vi,Ji,Qi,Zi,$i);if('number'==typeof Ji)return Ji&=255,H.TYPED_ARRAY_SUPPORT&&'function'==typeof Uint8Array.prototype.indexOf?$i?Uint8Array.prototype.indexOf.call(Vi,Ji,Qi):Uint8Array.prototype.lastIndexOf.call(Vi,Ji,Qi):ue(Vi,[Ji],Qi,Zi,$i);throw new TypeError('val must be string, number or Buffer')}function ue(Vi,Ji,Qi,Zi,$i){function es(us,ps){return 1==ns?us[ps]:us.readUInt16BE(ps*ns)}var ns=1,as=Vi.length,os=Ji.length;if(void 0!==Zi&&(Zi=(Zi+'').toLowerCase(),'ucs2'===Zi||'ucs-2'===Zi||'utf16le'===Zi||'utf-16le'===Zi)){if(2>Vi.length||2>Ji.length)return-1;ns=2,as/=2,os/=2,Qi/=2}var is;if($i){var ss=-1;for(is=Qi;is<as;is++)if(es(Vi,is)!==es(Ji,-1==ss?0:is-ss))-1!=ss&&(is-=is-ss),ss=-1;else if(-1==ss&&(ss=is),is-ss+1===os)return ss*ns}else for(Qi+os>as&&(Qi=as-os),is=Qi;0<=is;is--){for(var ds=!0,ls=0;ls<os;ls++)if(es(Vi,is+ls)!==es(Ji,ls)){ds=!1;break}if(ds)return is}return-1}H.prototype.includes=function(Ji,Qi,Zi){return-1!==this.indexOf(Ji,Qi,Zi)},H.prototype.indexOf=function(Ji,Qi,Zi){return le(this,Ji,Qi,Zi,!0)},H.prototype.lastIndexOf=function(Ji,Qi,Zi){return le(this,Ji,Qi,Zi,!1)};function pe(Vi,Ji,Qi,Zi){Qi=+Qi||0;var $i=Vi.length-Qi;Zi?(Zi=+Zi,Zi>$i&&(Zi=$i)):Zi=$i;var es=Ji.length;if(0!=es%2)throw new TypeError('Invalid hex string');Zi>es/2&&(Zi=es/2);for(var as,ns=0;ns<Zi;++ns){if(as=parseInt(Ji.substr(2*ns,2),16),isNaN(as))return ns;Vi[Qi+ns]=as}return ns}function he(Vi,Ji,Qi,Zi){return Ne(De(Ji,Vi.length-Qi),Vi,Qi,Zi)}function ce(Vi,Ji,Qi,Zi){return Ne(Me(Ji),Vi,Qi,Zi)}function fe(Vi,Ji,Qi,Zi){return ce(Vi,Ji,Qi,Zi)}function ge(Vi,Ji,Qi,Zi){return Ne(ze(Ji),Vi,Qi,Zi)}function me(Vi,Ji,Qi,Zi){return Ne(Ue(Ji,Vi.length-Qi),Vi,Qi,Zi)}H.prototype.write=function(Ji,Qi,Zi,$i){if(void 0===Qi)$i='utf8',Zi=this.length,Qi=0;else if(void 0===Zi&&'string'==typeof Qi)$i=Qi,Zi=this.length,Qi=0;else if(isFinite(Qi))Qi|=0,isFinite(Zi)?(Zi|=0,void 0===$i&&($i='utf8')):($i=Zi,Zi=void 0);else throw new Error('Buffer.write(string, encoding, offset[, length]) is no longer supported');var es=this.length-Qi;if((void 0===Zi||Zi>es)&&(Zi=es),0<Ji.length&&(0>Zi||0>Qi)||Qi>this.length)throw new RangeError('Attempt to write outside buffer bounds');$i||($i='utf8');for(var ns=!1;;)switch($i){case'hex':return pe(this,Ji,Qi,Zi);case'utf8':case'utf-8':return he(this,Ji,Qi,Zi);case'ascii':return ce(this,Ji,Qi,Zi);case'latin1':case'binary':return fe(this,Ji,Qi,Zi);case'base64':return ge(this,Ji,Qi,Zi);case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return me(this,Ji,Qi,Zi);default:if(ns)throw new TypeError('Unknown encoding: '+$i);$i=(''+$i).toLowerCase(),ns=!0;}},H.prototype.toJSON=function(){return{type:'Buffer',data:Array.prototype.slice.call(this._arr||this,0)}};function ye(Vi,Ji,Qi){return 0===Ji&&Qi===Vi.length?M(Vi):M(Vi.slice(Ji,Qi))}function be(Vi,Ji,Qi){Qi=_Mathmin(Vi.length,Qi);for(var Zi=[],$i=Ji;$i<Qi;){var es=Vi[$i],ns=null,as=239<es?4:223<es?3:191<es?2:1;if($i+as<=Qi){var os,is,ss,ds;1==as?128>es&&(ns=es):2==as?(os=Vi[$i+1],128==(192&os)&&(ds=(31&es)<<6|63&os,127<ds&&(ns=ds))):3==as?(os=Vi[$i+1],is=Vi[$i+2],128==(192&os)&&128==(192&is)&&(ds=(15&es)<<12|(63&os)<<6|63&is,2047<ds&&(55296>ds||57343<ds)&&(ns=ds))):4==as?(os=Vi[$i+1],is=Vi[$i+2],ss=Vi[$i+3],128==(192&os)&&128==(192&is)&&128==(192&ss)&&(ds=(15&es)<<18|(63&os)<<12|(63&is)<<6|63&ss,65535<ds&&1114112>ds&&(ns=ds))):void 0}null===ns?(ns=65533,as=1):65535<ns&&(ns-=65536,Zi.push(55296|1023&ns>>>10),ns=56320|1023&ns),Zi.push(ns),$i+=as}return ve(Zi)}var we=4096;function ve(Vi){var Ji=Vi.length;if(Ji<=we)return _StringfromCharCode.apply(String,Vi);for(var Qi='',Zi=0;Zi<Ji;)Qi+=_StringfromCharCode.apply(String,Vi.slice(Zi,Zi+=we));return Qi}function Ee(Vi,Ji,Qi){var Zi='';Qi=_Mathmin(Vi.length,Qi);for(var $i=Ji;$i<Qi;++$i)Zi+=_StringfromCharCode(127&Vi[$i]);return Zi}function ke(Vi,Ji,Qi){var Zi='';Qi=_Mathmin(Vi.length,Qi);for(var $i=Ji;$i<Qi;++$i)Zi+=_StringfromCharCode(Vi[$i]);return Zi}function Se(Vi,Ji,Qi){var Zi=Vi.length;(!Ji||0>Ji)&&(Ji=0),(!Qi||0>Qi||Qi>Zi)&&(Qi=Zi);for(var $i='',es=Ji;es<Qi;++es)$i+=qe(Vi[es]);return $i}function Ie(Vi,Ji,Qi){for(var Zi=Vi.slice(Ji,Qi),$i='',es=0;es<Zi.length;es+=2)$i+=_StringfromCharCode(Zi[es]+256*Zi[es+1]);return $i}H.prototype.slice=function(Ji,Qi){var Zi=this.length;Ji=~~Ji,Qi=Qi===void 0?Zi:~~Qi,0>Ji?(Ji+=Zi,0>Ji&&(Ji=0)):Ji>Zi&&(Ji=Zi),0>Qi?(Qi+=Zi,0>Qi&&(Qi=0)):Qi>Zi&&(Qi=Zi),Qi<Ji&&(Qi=Ji);var $i;if(H.TYPED_ARRAY_SUPPORT)$i=this.subarray(Ji,Qi),$i.__proto__=H.prototype;else{var es=Qi-Ji;$i=new H(es,void 0);for(var ns=0;ns<es;++ns)$i[ns]=this[ns+Ji]}return $i};function xe(Vi,Ji,Qi){if(0!=Vi%1||0>Vi)throw new RangeError('offset is not uint');if(Vi+Ji>Qi)throw new RangeError('Trying to access beyond buffer length')}H.prototype.readUIntLE=function(Ji,Qi,Zi){Ji|=0,Qi|=0,Zi||xe(Ji,Qi,this.length);for(var $i=this[Ji],es=1,ns=0;++ns<Qi&&(es*=256);)$i+=this[Ji+ns]*es;return $i},H.prototype.readUIntBE=function(Ji,Qi,Zi){Ji|=0,Qi|=0,Zi||xe(Ji,Qi,this.length);for(var $i=this[Ji+--Qi],es=1;0<Qi&&(es*=256);)$i+=this[Ji+--Qi]*es;return $i},H.prototype.readUInt8=function(Ji,Qi){return Qi||xe(Ji,1,this.length),this[Ji]},H.prototype.readUInt16LE=function(Ji,Qi){return Qi||xe(Ji,2,this.length),this[Ji]|this[Ji+1]<<8},H.prototype.readUInt16BE=function(Ji,Qi){return Qi||xe(Ji,2,this.length),this[Ji]<<8|this[Ji+1]},H.prototype.readUInt32LE=function(Ji,Qi){return Qi||xe(Ji,4,this.length),(this[Ji]|this[Ji+1]<<8|this[Ji+2]<<16)+16777216*this[Ji+3]},H.prototype.readUInt32BE=function(Ji,Qi){return Qi||xe(Ji,4,this.length),16777216*this[Ji]+(this[Ji+1]<<16|this[Ji+2]<<8|this[Ji+3])},H.prototype.readIntLE=function(Ji,Qi,Zi){Ji|=0,Qi|=0,Zi||xe(Ji,Qi,this.length);for(var $i=this[Ji],es=1,ns=0;++ns<Qi&&(es*=256);)$i+=this[Ji+ns]*es;return es*=128,$i>=es&&($i-=_Mathpow(2,8*Qi)),$i},H.prototype.readIntBE=function(Ji,Qi,Zi){Ji|=0,Qi|=0,Zi||xe(Ji,Qi,this.length);for(var $i=Qi,es=1,ns=this[Ji+--$i];0<$i&&(es*=256);)ns+=this[Ji+--$i]*es;return es*=128,ns>=es&&(ns-=_Mathpow(2,8*Qi)),ns},H.prototype.readInt8=function(Ji,Qi){return Qi||xe(Ji,1,this.length),128&this[Ji]?-1*(255-this[Ji]+1):this[Ji]},H.prototype.readInt16LE=function(Ji,Qi){Qi||xe(Ji,2,this.length);var Zi=this[Ji]|this[Ji+1]<<8;return 32768&Zi?4294901760|Zi:Zi},H.prototype.readInt16BE=function(Ji,Qi){Qi||xe(Ji,2,this.length);var Zi=this[Ji+1]|this[Ji]<<8;return 32768&Zi?4294901760|Zi:Zi},H.prototype.readInt32LE=function(Ji,Qi){return Qi||xe(Ji,4,this.length),this[Ji]|this[Ji+1]<<8|this[Ji+2]<<16|this[Ji+3]<<24},H.prototype.readInt32BE=function(Ji,Qi){return Qi||xe(Ji,4,this.length),this[Ji]<<24|this[Ji+1]<<16|this[Ji+2]<<8|this[Ji+3]},H.prototype.readFloatLE=function(Ji,Qi){return Qi||xe(Ji,4,this.length),U(this,Ji,!0,23,4)},H.prototype.readFloatBE=function(Ji,Qi){return Qi||xe(Ji,4,this.length),U(this,Ji,!1,23,4)},H.prototype.readDoubleLE=function(Ji,Qi){return Qi||xe(Ji,8,this.length),U(this,Ji,!0,52,8)},H.prototype.readDoubleBE=function(Ji,Qi){return Qi||xe(Ji,8,this.length),U(this,Ji,!1,52,8)};function Re(Vi,Ji,Qi,Zi,$i,es){if(!ne(Vi))throw new TypeError('"buffer" argument must be a Buffer instance');if(Ji>$i||Ji<es)throw new RangeError('"value" argument is out of bounds');if(Qi+Zi>Vi.length)throw new RangeError('Index out of range')}H.prototype.writeUIntLE=function(Ji,Qi,Zi,$i){if(Ji=+Ji,Qi|=0,Zi|=0,!$i){var es=_Mathpow(2,8*Zi)-1;Re(this,Ji,Qi,Zi,es,0)}var ns=1,as=0;for(this[Qi]=255&Ji;++as<Zi&&(ns*=256);)this[Qi+as]=255&Ji/ns;return Qi+Zi},H.prototype.writeUIntBE=function(Ji,Qi,Zi,$i){if(Ji=+Ji,Qi|=0,Zi|=0,!$i){var es=_Mathpow(2,8*Zi)-1;Re(this,Ji,Qi,Zi,es,0)}var ns=Zi-1,as=1;for(this[Qi+ns]=255&Ji;0<=--ns&&(as*=256);)this[Qi+ns]=255&Ji/as;return Qi+Zi},H.prototype.writeUInt8=function(Ji,Qi,Zi){return Ji=+Ji,Qi|=0,Zi||Re(this,Ji,Qi,1,255,0),H.TYPED_ARRAY_SUPPORT||(Ji=_Mathfloor(Ji)),this[Qi]=255&Ji,Qi+1};function Ae(Vi,Ji,Qi,Zi){0>Ji&&(Ji=65535+Ji+1);for(var $i=0,es=_Mathmin(Vi.length-Qi,2);$i<es;++$i)Vi[Qi+$i]=(Ji&255<<8*(Zi?$i:1-$i))>>>8*(Zi?$i:1-$i)}H.prototype.writeUInt16LE=function(Ji,Qi,Zi){return Ji=+Ji,Qi|=0,Zi||Re(this,Ji,Qi,2,65535,0),H.TYPED_ARRAY_SUPPORT?(this[Qi]=255&Ji,this[Qi+1]=Ji>>>8):Ae(this,Ji,Qi,!0),Qi+2},H.prototype.writeUInt16BE=function(Ji,Qi,Zi){return Ji=+Ji,Qi|=0,Zi||Re(this,Ji,Qi,2,65535,0),H.TYPED_ARRAY_SUPPORT?(this[Qi]=Ji>>>8,this[Qi+1]=255&Ji):Ae(this,Ji,Qi,!1),Qi+2};function Ce(Vi,Ji,Qi,Zi){0>Ji&&(Ji=4294967295+Ji+1);for(var $i=0,es=_Mathmin(Vi.length-Qi,4);$i<es;++$i)Vi[Qi+$i]=255&Ji>>>8*(Zi?$i:3-$i)}H.prototype.writeUInt32LE=function(Ji,Qi,Zi){return Ji=+Ji,Qi|=0,Zi||Re(this,Ji,Qi,4,4294967295,0),H.TYPED_ARRAY_SUPPORT?(this[Qi+3]=Ji>>>24,this[Qi+2]=Ji>>>16,this[Qi+1]=Ji>>>8,this[Qi]=255&Ji):Ce(this,Ji,Qi,!0),Qi+4},H.prototype.writeUInt32BE=function(Ji,Qi,Zi){return Ji=+Ji,Qi|=0,Zi||Re(this,Ji,Qi,4,4294967295,0),H.TYPED_ARRAY_SUPPORT?(this[Qi]=Ji>>>24,this[Qi+1]=Ji>>>16,this[Qi+2]=Ji>>>8,this[Qi+3]=255&Ji):Ce(this,Ji,Qi,!1),Qi+4},H.prototype.writeIntLE=function(Ji,Qi,Zi,$i){if(Ji=+Ji,Qi|=0,!$i){var es=_Mathpow(2,8*Zi-1);Re(this,Ji,Qi,Zi,es-1,-es)}var ns=0,as=1,os=0;for(this[Qi]=255&Ji;++ns<Zi&&(as*=256);)0>Ji&&0==os&&0!==this[Qi+ns-1]&&(os=1),this[Qi+ns]=255&(Ji/as>>0)-os;return Qi+Zi},H.prototype.writeIntBE=function(Ji,Qi,Zi,$i){if(Ji=+Ji,Qi|=0,!$i){var es=_Mathpow(2,8*Zi-1);Re(this,Ji,Qi,Zi,es-1,-es)}var ns=Zi-1,as=1,os=0;for(this[Qi+ns]=255&Ji;0<=--ns&&(as*=256);)0>Ji&&0==os&&0!==this[Qi+ns+1]&&(os=1),this[Qi+ns]=255&(Ji/as>>0)-os;return Qi+Zi},H.prototype.writeInt8=function(Ji,Qi,Zi){return Ji=+Ji,Qi|=0,Zi||Re(this,Ji,Qi,1,127,-128),H.TYPED_ARRAY_SUPPORT||(Ji=_Mathfloor(Ji)),0>Ji&&(Ji=255+Ji+1),this[Qi]=255&Ji,Qi+1},H.prototype.writeInt16LE=function(Ji,Qi,Zi){return Ji=+Ji,Qi|=0,Zi||Re(this,Ji,Qi,2,32767,-32768),H.TYPED_ARRAY_SUPPORT?(this[Qi]=255&Ji,this[Qi+1]=Ji>>>8):Ae(this,Ji,Qi,!0),Qi+2},H.prototype.writeInt16BE=function(Ji,Qi,Zi){return Ji=+Ji,Qi|=0,Zi||Re(this,Ji,Qi,2,32767,-32768),H.TYPED_ARRAY_SUPPORT?(this[Qi]=Ji>>>8,this[Qi+1]=255&Ji):Ae(this,Ji,Qi,!1),Qi+2},H.prototype.writeInt32LE=function(Ji,Qi,Zi){return Ji=+Ji,Qi|=0,Zi||Re(this,Ji,Qi,4,2147483647,-2147483648),H.TYPED_ARRAY_SUPPORT?(this[Qi]=255&Ji,this[Qi+1]=Ji>>>8,this[Qi+2]=Ji>>>16,this[Qi+3]=Ji>>>24):Ce(this,Ji,Qi,!0),Qi+4},H.prototype.writeInt32BE=function(Ji,Qi,Zi){return Ji=+Ji,Qi|=0,Zi||Re(this,Ji,Qi,4,2147483647,-2147483648),0>Ji&&(Ji=4294967295+Ji+1),H.TYPED_ARRAY_SUPPORT?(this[Qi]=Ji>>>24,this[Qi+1]=Ji>>>16,this[Qi+2]=Ji>>>8,this[Qi+3]=255&Ji):Ce(this,Ji,Qi,!1),Qi+4};function Be(Vi,Ji,Qi,Zi){if(Qi+Zi>Vi.length)throw new RangeError('Index out of range');if(0>Qi)throw new RangeError('Index out of range')}function Le(Vi,Ji,Qi,Zi,$i){return $i||Be(Vi,Ji,Qi,4,3.4028234663852886e38,-3.4028234663852886e38),z(Vi,Ji,Qi,Zi,23,4),Qi+4}H.prototype.writeFloatLE=function(Ji,Qi,Zi){return Le(this,Ji,Qi,!0,Zi)},H.prototype.writeFloatBE=function(Ji,Qi,Zi){return Le(this,Ji,Qi,!1,Zi)};function Pe(Vi,Ji,Qi,Zi,$i){return $i||Be(Vi,Ji,Qi,8,1.7976931348623157e308,-1.7976931348623157e308),z(Vi,Ji,Qi,Zi,52,8),Qi+8}H.prototype.writeDoubleLE=function(Ji,Qi,Zi){return Pe(this,Ji,Qi,!0,Zi)},H.prototype.writeDoubleBE=function(Ji,Qi,Zi){return Pe(this,Ji,Qi,!1,Zi)},H.prototype.copy=function(Ji,Qi,Zi,$i){if(Zi||(Zi=0),$i||0===$i||($i=this.length),Qi>=Ji.length&&(Qi=Ji.length),Qi||(Qi=0),0<$i&&$i<Zi&&($i=Zi),$i===Zi)return 0;if(0===Ji.length||0===this.length)return 0;if(0>Qi)throw new RangeError('targetStart out of bounds');if(0>Zi||Zi>=this.length)throw new RangeError('sourceStart out of bounds');if(0>$i)throw new RangeError('sourceEnd out of bounds');$i>this.length&&($i=this.length),Ji.length-Qi<$i-Zi&&($i=Ji.length-Qi+Zi);var ns,es=$i-Zi;if(this===Ji&&Zi<Qi&&Qi<$i)for(ns=es-1;0<=ns;--ns)Ji[ns+Qi]=this[ns+Zi];else if(1e3>es||!H.TYPED_ARRAY_SUPPORT)for(ns=0;ns<es;++ns)Ji[ns+Qi]=this[ns+Zi];else Uint8Array.prototype.set.call(Ji,this.subarray(Zi,Zi+es),Qi);return es},H.prototype.fill=function(Ji,Qi,Zi,$i){if('string'==typeof Ji){if('string'==typeof Qi?($i=Qi,Qi=0,Zi=this.length):'string'==typeof Zi&&($i=Zi,Zi=this.length),1===Ji.length){var es=Ji.charCodeAt(0);256>es&&(Ji=es)}if(void 0!==$i&&'string'!=typeof $i)throw new TypeError('encoding must be a string');if('string'==typeof $i&&!H.isEncoding($i))throw new TypeError('Unknown encoding: '+$i)}else'number'==typeof Ji&&(Ji&=255);if(0>Qi||this.length<Qi||this.length<Zi)throw new RangeError('Out of range index');if(Zi<=Qi)return this;Qi>>>=0,Zi=Zi===void 0?this.length:Zi>>>0,Ji||(Ji=0);var ns;if('number'==typeof Ji)for(ns=Qi;ns<Zi;++ns)this[ns]=Ji;else{var as=ne(Ji)?Ji:De(new H(Ji,$i).toString()),os=as.length;for(ns=0;ns<Zi-Qi;++ns)this[ns+Qi]=as[ns%os]}return this};var Oe=/[^+\/0-9A-Za-z-_]/g;function Te(Vi){if(Vi=je(Vi).replace(Oe,''),2>Vi.length)return'';for(;0!=Vi.length%4;)Vi+='=';return Vi}function je(Vi){return Vi.trim?Vi.trim():Vi.replace(/^\s+|\s+$/g,'')}function qe(Vi){return 16>Vi?'0'+Vi.toString(16):Vi.toString(16)}function De(Vi,Ji){Ji=Ji||Infinity;for(var Qi,Zi=Vi.length,$i=null,es=[],ns=0;ns<Zi;++ns){if(Qi=Vi.charCodeAt(ns),55295<Qi&&57344>Qi){if(!$i){if(56319<Qi){-1<(Ji-=3)&&es.push(239,191,189);continue}else if(ns+1===Zi){-1<(Ji-=3)&&es.push(239,191,189);continue}$i=Qi;continue}if(56320>Qi){-1<(Ji-=3)&&es.push(239,191,189),$i=Qi;continue}Qi=($i-55296<<10|Qi-56320)+65536}else $i&&-1<(Ji-=3)&&es.push(239,191,189);if($i=null,128>Qi){if(0>(Ji-=1))break;es.push(Qi)}else if(2048>Qi){if(0>(Ji-=2))break;es.push(192|Qi>>6,128|63&Qi)}else if(65536>Qi){if(0>(Ji-=3))break;es.push(224|Qi>>12,128|63&Qi>>6,128|63&Qi)}else if(1114112>Qi){if(0>(Ji-=4))break;es.push(240|Qi>>18,128|63&Qi>>12,128|63&Qi>>6,128|63&Qi)}else throw new Error('Invalid code point')}return es}function Me(Vi){for(var Ji=[],Qi=0;Qi<Vi.length;++Qi)Ji.push(255&Vi.charCodeAt(Qi));return Ji}function Ue(Vi,Ji){for(var Qi,Zi,$i,es=[],ns=0;ns<Vi.length&&!(0>(Ji-=2));++ns)Qi=Vi.charCodeAt(ns),Zi=Qi>>8,$i=Qi%256,es.push($i),es.push(Zi);return es}function ze(Vi){return O(Te(Vi))}function Ne(Vi,Ji,Qi,Zi){for(var $i=0;$i<Zi&&!($i+Qi>=Ji.length||$i>=Vi.length);++$i)Ji[$i+Qi]=Vi[$i];return $i}function Ye(Vi){return Vi!==Vi}function Fe(Vi){return null!=Vi&&(!!Vi._isBuffer||We(Vi)||Ke(Vi))}function We(Vi){return!!Vi.constructor&&'function'==typeof Vi.constructor.isBuffer&&Vi.constructor.isBuffer(Vi)}function Ke(Vi){return'function'==typeof Vi.readFloatLE&&'function'==typeof Vi.slice&&We(Vi.slice(0,0))}function He(){throw new Error('setTimeout has not been defined')}function Ge(){throw new Error('clearTimeout has not been defined')}var Xe=He,Ve=Ge;'function'==typeof I.setTimeout&&(Xe=setTimeout),'function'==typeof I.clearTimeout&&(Ve=clearTimeout);function Je(Vi){if(Xe===setTimeout)return setTimeout(Vi,0);if((Xe===He||!Xe)&&setTimeout)return Xe=setTimeout,setTimeout(Vi,0);try{return Xe(Vi,0)}catch(Ji){try{return Xe.call(null,Vi,0)}catch(Qi){return Xe.call(this,Vi,0)}}}function Qe(Vi){if(Ve===clearTimeout)return clearTimeout(Vi);if((Ve===Ge||!Ve)&&clearTimeout)return Ve=clearTimeout,clearTimeout(Vi);try{return Ve(Vi)}catch(Ji){try{return Ve.call(null,Vi)}catch(Qi){return Ve.call(this,Vi)}}}var Ze=[],$e=!1,et,tt=-1;function nt(){$e&&et&&($e=!1,et.length?Ze=et.concat(Ze):tt=-1,Ze.length&&ot())}function ot(){if(!$e){var Vi=Je(nt);$e=!0;for(var Ji=Ze.length;Ji;){for(et=Ze,Ze=[];++tt<Ji;)et&&et[tt].run();tt=-1,Ji=Ze.length}et=null,$e=!1,Qe(Vi)}}function it(Vi){var Ji=Array(arguments.length-1);if(1<arguments.length)for(var Qi=1;Qi<arguments.length;Qi++)Ji[Qi-1]=arguments[Qi];Ze.push(new st(Vi,Ji)),1!==Ze.length||$e||Je(ot)}function st(Vi,Ji){this.fun=Vi,this.array=Ji}st.prototype.run=function(){this.fun.apply(null,this.array)};var dt='browser',lt='browser',ut=!0,pt={},ht=[],ct='',ft={},gt={},mt={};function bt(){}var wt=bt,_t=bt,vt=bt,Et=bt,kt=bt,St=bt,It=bt;function xt(){throw new Error('process.binding is not supported')}function Rt(){return'/'}function At(){throw new Error('process.chdir is not supported')}function Ct(){return 0}var Bt=I.performance||{},Lt=Bt.now||Bt.mozNow||Bt.msNow||Bt.oNow||Bt.webkitNow||function(){return new Date().getTime()};function Pt(Vi){var Ji=1e-3*Lt.call(Bt),Qi=_Mathfloor(Ji),Zi=_Mathfloor(1e9*(Ji%1));return Vi&&(Qi-=Vi[0],Zi-=Vi[1],0>Zi&&(Qi--,Zi+=1e9)),[Qi,Zi]}var Ot=new Date;function Tt(){var Vi=new Date;return(Vi-Ot)/1e3}var jt={nextTick:it,title:dt,browser:ut,env:pt,argv:ht,version:ct,versions:ft,on:wt,addListener:_t,once:vt,off:Et,removeListener:kt,removeAllListeners:St,emit:It,binding:xt,cwd:Rt,chdir:At,umask:Ct,hrtime:Pt,platform:lt,release:gt,config:mt,uptime:Tt},qt;function Dt(){}Dt.prototype=Object.create(null);function Mt(){Mt.init.call(this)}Mt.EventEmitter=Mt,Mt.usingDomains=!1,Mt.prototype.domain=void 0,Mt.prototype._events=void 0,Mt.prototype._maxListeners=void 0,Mt.defaultMaxListeners=10,Mt.init=function(){this.domain=null,Mt.usingDomains&&qt.active&&!(this instanceof qt.Domain)&&(this.domain=qt.active),this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new Dt,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Mt.prototype.setMaxListeners=function(Ji){if('number'!=typeof Ji||0>Ji||isNaN(Ji))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=Ji,this};function Ut(Vi){return void 0===Vi._maxListeners?Mt.defaultMaxListeners:Vi._maxListeners}Mt.prototype.getMaxListeners=function(){return Ut(this)};function zt(Vi,Ji,Qi){if(Ji)Vi.call(Qi);else for(var Zi=Vi.length,$i=Jt(Vi,Zi),es=0;es<Zi;++es)$i[es].call(Qi)}function Nt(Vi,Ji,Qi,Zi){if(Ji)Vi.call(Qi,Zi);else for(var $i=Vi.length,es=Jt(Vi,$i),ns=0;ns<$i;++ns)es[ns].call(Qi,Zi)}function Yt(Vi,Ji,Qi,Zi,$i){if(Ji)Vi.call(Qi,Zi,$i);else for(var es=Vi.length,ns=Jt(Vi,es),as=0;as<es;++as)ns[as].call(Qi,Zi,$i)}function Ft(Vi,Ji,Qi,Zi,$i,es){if(Ji)Vi.call(Qi,Zi,$i,es);else for(var ns=Vi.length,as=Jt(Vi,ns),os=0;os<ns;++os)as[os].call(Qi,Zi,$i,es)}function Wt(Vi,Ji,Qi,Zi){if(Ji)Vi.apply(Qi,Zi);else for(var $i=Vi.length,es=Jt(Vi,$i),ns=0;ns<$i;++ns)es[ns].apply(Qi,Zi)}Mt.prototype.emit=function(Ji){var Qi,Zi,$i,es,ns,as,os,ss='error'===Ji;if(as=this._events,as)ss=ss&&null==as.error;else if(!ss)return!1;if(os=this.domain,ss){if(Qi=arguments[1],os)Qi||(Qi=new Error('Uncaught, unspecified "error" event')),Qi.domainEmitter=this,Qi.domain=os,Qi.domainThrown=!1,os.emit('error',Qi);else if(Qi instanceof Error)throw Qi;else{var ds=new Error('Uncaught, unspecified "error" event. ('+Qi+')');throw ds.context=Qi,ds}return!1}if(Zi=as[Ji],!Zi)return!1;var ls='function'==typeof Zi;switch($i=arguments.length,$i){case 1:zt(Zi,ls,this);break;case 2:Nt(Zi,ls,this,arguments[1]);break;case 3:Yt(Zi,ls,this,arguments[1],arguments[2]);break;case 4:Ft(Zi,ls,this,arguments[1],arguments[2],arguments[3]);break;default:for(es=Array($i-1),ns=1;ns<$i;ns++)es[ns-1]=arguments[ns];Wt(Zi,ls,this,es);}return!1,!0};function Kt(Vi,Ji,Qi,Zi){var $i,es,ns;if('function'!=typeof Qi)throw new TypeError('"listener" argument must be a function');if(es=Vi._events,es?(es.newListener&&(Vi.emit('newListener',Ji,Qi.listener?Qi.listener:Qi),es=Vi._events),ns=es[Ji]):(es=Vi._events=new Dt,Vi._eventsCount=0),!ns)ns=es[Ji]=Qi,++Vi._eventsCount;else if('function'==typeof ns?ns=es[Ji]=Zi?[Qi,ns]:[ns,Qi]:Zi?ns.unshift(Qi):ns.push(Qi),!ns.warned&&($i=Ut(Vi),$i&&0<$i&&ns.length>$i)){ns.warned=!0;var as=new Error('Possible EventEmitter memory leak detected. '+ns.length+' '+Ji+' listeners added. Use emitter.setMaxListeners() to increase limit');as.name='MaxListenersExceededWarning',as.emitter=Vi,as.type=Ji,as.count=ns.length,Ht(as)}return Vi}function Ht(Vi){'function'==typeof console.warn?console.warn(Vi):console.log(Vi)}Mt.prototype.addListener=function(Ji,Qi){return Kt(this,Ji,Qi,!1)},Mt.prototype.on=Mt.prototype.addListener,Mt.prototype.prependListener=function(Ji,Qi){return Kt(this,Ji,Qi,!0)};function Gt(Vi,Ji,Qi){function Zi(){Vi.removeListener(Ji,Zi),$i||($i=!0,Qi.apply(Vi,arguments))}var $i=!1;return Zi.listener=Qi,Zi}Mt.prototype.once=function(Ji,Qi){if('function'!=typeof Qi)throw new TypeError('"listener" argument must be a function');return this.on(Ji,Gt(this,Ji,Qi)),this},Mt.prototype.prependOnceListener=function(Ji,Qi){if('function'!=typeof Qi)throw new TypeError('"listener" argument must be a function');return this.prependListener(Ji,Gt(this,Ji,Qi)),this},Mt.prototype.removeListener=function(Ji,Qi){var Zi,$i,es,ns,as;if('function'!=typeof Qi)throw new TypeError('"listener" argument must be a function');if($i=this._events,!$i)return this;if(Zi=$i[Ji],!Zi)return this;if(Zi===Qi||Zi.listener&&Zi.listener===Qi)0==--this._eventsCount?this._events=new Dt:(delete $i[Ji],$i.removeListener&&this.emit('removeListener',Ji,Zi.listener||Qi));else if('function'!=typeof Zi){for(es=-1,ns=Zi.length;0<ns--;)if(Zi[ns]===Qi||Zi[ns].listener&&Zi[ns].listener===Qi){as=Zi[ns].listener,es=ns;break}if(0>es)return this;if(1===Zi.length){if(Zi[0]=void 0,0==--this._eventsCount)return this._events=new Dt,this;delete $i[Ji]}else Vt(Zi,es);$i.removeListener&&this.emit('removeListener',Ji,as||Qi)}return this},Mt.prototype.removeAllListeners=function(Ji){var Qi,Zi;if(Zi=this._events,!Zi)return this;if(!Zi.removeListener)return 0===arguments.length?(this._events=new Dt,this._eventsCount=0):Zi[Ji]&&(0==--this._eventsCount?this._events=new Dt:delete Zi[Ji]),this;if(0===arguments.length){for(var ns,$i=Object.keys(Zi),es=0;es<$i.length;++es)ns=$i[es],'removeListener'===ns||this.removeAllListeners(ns);return this.removeAllListeners('removeListener'),this._events=new Dt,this._eventsCount=0,this}if(Qi=Zi[Ji],'function'==typeof Qi)this.removeListener(Ji,Qi);else if(Qi)do this.removeListener(Ji,Qi[Qi.length-1]);while(Qi[0]);return this},Mt.prototype.listeners=function(Ji){var Qi,Zi,$i=this._events;return $i?(Qi=$i[Ji],Zi=Qi?'function'==typeof Qi?[Qi.listener||Qi]:Qt(Qi):[]):Zi=[],Zi},Mt.listenerCount=function(Vi,Ji){return'function'==typeof Vi.listenerCount?Vi.listenerCount(Ji):Xt.call(Vi,Ji)},Mt.prototype.listenerCount=Xt;function Xt(Vi){var Ji=this._events;if(Ji){var Qi=Ji[Vi];if('function'==typeof Qi)return 1;if(Qi)return Qi.length}return 0}Mt.prototype.eventNames=function(){return 0<this._eventsCount?Reflect.ownKeys(this._events):[]};function Vt(Vi,Ji){for(var Qi=Ji,Zi=Qi+1,$i=Vi.length;Zi<$i;Qi+=1,Zi+=1)Vi[Qi]=Vi[Zi];Vi.pop()}function Jt(Vi,Ji){for(var Qi=Array(Ji);Ji--;)Qi[Ji]=Vi[Ji];return Qi}function Qt(Vi){for(var Ji=Array(Vi.length),Qi=0;Qi<Ji.length;++Qi)Ji[Qi]=Vi[Qi].listener||Vi[Qi];return Ji}var Zt='function'==typeof Object.create?function(Ji,Qi){Ji.super_=Qi,Ji.prototype=Object.create(Qi.prototype,{constructor:{value:Ji,enumerable:!1,writable:!0,configurable:!0}})}:function(Ji,Qi){Ji.super_=Qi;var Zi=function(){};Zi.prototype=Qi.prototype,Ji.prototype=new Zi,Ji.prototype.constructor=Ji};var $t=Zt,en=/%[sdj%]/g;function tn(Vi){if(!An(Vi)){for(var Ji=[],Qi=0;Qi<arguments.length;Qi++)Ji.push(un(arguments[Qi]));return Ji.join(' ')}for(var Qi=1,Zi=arguments,$i=Zi.length,es=(Vi+'').replace(en,function(as){if('%%'===as)return'%';if(Qi>=$i)return as;switch(as){case'%s':return Zi[Qi++]+'';case'%d':return+Zi[Qi++];case'%j':try{return JSON.stringify(Zi[Qi++])}catch(os){return'[Circular]'}default:return as;}}),ns=Zi[Qi];Qi<$i;ns=Zi[++Qi])es+=In(ns)||!Pn(ns)?' '+ns:' '+un(ns);return es}function nn(Vi,Ji){if(Bn(I.process))return function(){return nn(Vi,Ji).apply(this,arguments)};if(!0===jt.noDeprecation)return Vi;var Zi=!1;return function(){if(!Zi){if(jt.throwDeprecation)throw new Error(Ji);else jt.traceDeprecation?console.trace(Ji):console.error(Ji);Zi=!0}return Vi.apply(this,arguments)}}var an={},dn;function ln(Vi){if(Bn(dn)&&(dn=jt.env.NODE_DEBUG||''),Vi=Vi.toUpperCase(),!an[Vi])if(new RegExp('\\b'+Vi+'\\b','i').test(dn)){an[Vi]=function(){var Qi=tn.apply(null,arguments);console.error('%s %d: %s',Vi,0,Qi)}}else an[Vi]=function(){};return an[Vi]}function un(Vi,Ji){var Qi={seen:[],stylize:hn};return 3<=arguments.length&&(Qi.depth=arguments[2]),4<=arguments.length&&(Qi.colors=arguments[3]),Sn(Ji)?Qi.showHidden=Ji:Ji&&Fn(Qi,Ji),Bn(Qi.showHidden)&&(Qi.showHidden=!1),Bn(Qi.depth)&&(Qi.depth=2),Bn(Qi.colors)&&(Qi.colors=!1),Bn(Qi.customInspect)&&(Qi.customInspect=!0),Qi.colors&&(Qi.stylize=pn),gn(Qi,Vi,Qi.depth)}un.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},un.styles={special:'cyan',number:'yellow',boolean:'yellow',undefined:'grey','null':'bold',string:'green',date:'magenta',regexp:'red'};function pn(Vi,Ji){var Qi=un.styles[Ji];return Qi?'\x1B['+un.colors[Qi][0]+'m'+Vi+'\x1B['+un.colors[Qi][1]+'m':Vi}function hn(Vi){return Vi}function cn(Vi){var Ji={};return Vi.forEach(function(Qi){Ji[Qi]=!0}),Ji}function gn(Vi,Ji,Qi){if(Vi.customInspect&&Ji&&jn(Ji.inspect)&&Ji.inspect!==un&&!(Ji.constructor&&Ji.constructor.prototype===Ji)){var Zi=Ji.inspect(Qi,Vi);return An(Zi)||(Zi=gn(Vi,Zi,Qi)),Zi}var $i=mn(Vi,Ji);if($i)return $i;var es=Object.keys(Ji),ns=cn(es);if(Vi.showHidden&&(es=Object.getOwnPropertyNames(Ji)),Tn(Ji)&&(0<=es.indexOf('message')||0<=es.indexOf('description')))return yn(Ji);if(0===es.length){if(jn(Ji)){var as=Ji.name?': '+Ji.name:'';return Vi.stylize('[Function'+as+']','special')}if(Ln(Ji))return Vi.stylize(RegExp.prototype.toString.call(Ji),'regexp');if(On(Ji))return Vi.stylize(Date.prototype.toString.call(Ji),'date');if(Tn(Ji))return yn(Ji)}var os='',is=!1,ss=['{','}'];if(kn(Ji)&&(is=!0,ss=['[',']']),jn(Ji)){var ds=Ji.name?': '+Ji.name:'';os=' [Function'+ds+']'}if(Ln(Ji)&&(os=' '+RegExp.prototype.toString.call(Ji)),On(Ji)&&(os=' '+Date.prototype.toUTCString.call(Ji)),Tn(Ji)&&(os=' '+yn(Ji)),0===es.length&&(!is||0==Ji.length))return ss[0]+os+ss[1];if(0>Qi)return Ln(Ji)?Vi.stylize(RegExp.prototype.toString.call(Ji),'regexp'):Vi.stylize('[Object]','special');Vi.seen.push(Ji);var ls;return ls=is?wn(Vi,Ji,Qi,ns,es):es.map(function(us){return vn(Vi,Ji,Qi,ns,us,is)}),Vi.seen.pop(),En(ls,os,ss)}function mn(Vi,Ji){if(Bn(Ji))return Vi.stylize('undefined','undefined');if(An(Ji)){var Qi='\''+JSON.stringify(Ji).replace(/^"|"$/g,'').replace(/'/g,'\\\'').replace(/\\"/g,'"')+'\'';return Vi.stylize(Qi,'string')}return Rn(Ji)?Vi.stylize(''+Ji,'number'):Sn(Ji)?Vi.stylize(''+Ji,'boolean'):In(Ji)?Vi.stylize('null','null'):void 0}function yn(Vi){return'['+Error.prototype.toString.call(Vi)+']'}function wn(Vi,Ji,Qi,Zi,$i){for(var es=[],ns=0,as=Ji.length;ns<as;++ns)Wn(Ji,ns+'')?es.push(vn(Vi,Ji,Qi,Zi,ns+'',!0)):es.push('');return $i.forEach(function(os){os.match(/^\d+$/)||es.push(vn(Vi,Ji,Qi,Zi,os,!0))}),es}function vn(Vi,Ji,Qi,Zi,$i,es){var ns,as,os;if(os=Object.getOwnPropertyDescriptor(Ji,$i)||{value:Ji[$i]},os.get?os.set?as=Vi.stylize('[Getter/Setter]','special'):as=Vi.stylize('[Getter]','special'):os.set&&(as=Vi.stylize('[Setter]','special')),Wn(Zi,$i)||(ns='['+$i+']'),as||(0>Vi.seen.indexOf(os.value)?(as=In(Qi)?gn(Vi,os.value,null):gn(Vi,os.value,Qi-1),-1<as.indexOf('\n')&&(es?as=as.split('\n').map(function(is){return'  '+is}).join('\n').substr(2):as='\n'+as.split('\n').map(function(is){return'   '+is}).join('\n'))):as=Vi.stylize('[Circular]','special')),Bn(ns)){if(es&&$i.match(/^\d+$/))return as;ns=JSON.stringify(''+$i),ns.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(ns=ns.substr(1,ns.length-2),ns=Vi.stylize(ns,'name')):(ns=ns.replace(/'/g,'\\\'').replace(/\\"/g,'"').replace(/(^"|"$)/g,'\''),ns=Vi.stylize(ns,'string'))}return ns+': '+as}function En(Vi,Ji,Qi){var Zi=0,$i=Vi.reduce(function(es,ns){return Zi++,0<=ns.indexOf('\n')&&Zi++,es+ns.replace(/\u001b\[\d\d?m/g,'').length+1},0);return 60<$i?Qi[0]+(''===Ji?'':Ji+'\n ')+' '+Vi.join(',\n  ')+' '+Qi[1]:Qi[0]+Ji+' '+Vi.join(', ')+' '+Qi[1]}function kn(Vi){return Array.isArray(Vi)}function Sn(Vi){return'boolean'==typeof Vi}function In(Vi){return null===Vi}function xn(Vi){return null==Vi}function Rn(Vi){return'number'==typeof Vi}function An(Vi){return'string'==typeof Vi}function Cn(Vi){return'symbol'==typeof Vi}function Bn(Vi){return void 0===Vi}function Ln(Vi){return Pn(Vi)&&'[object RegExp]'===Mn(Vi)}function Pn(Vi){return'object'==typeof Vi&&null!==Vi}function On(Vi){return Pn(Vi)&&'[object Date]'===Mn(Vi)}function Tn(Vi){return Pn(Vi)&&('[object Error]'===Mn(Vi)||Vi instanceof Error)}function jn(Vi){return'function'==typeof Vi}function qn(Vi){return null===Vi||'boolean'==typeof Vi||'number'==typeof Vi||'string'==typeof Vi||'symbol'==typeof Vi||'undefined'==typeof Vi}function Dn(Vi){return Fe(Vi)}function Mn(Vi){return Object.prototype.toString.call(Vi)}function Un(Vi){return 10>Vi?'0'+Vi.toString(10):Vi.toString(10)}var zn=['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];function Nn(){var Vi=new Date,Ji=[Un(Vi.getHours()),Un(Vi.getMinutes()),Un(Vi.getSeconds())].join(':');return[Vi.getDate(),zn[Vi.getMonth()],Ji].join(' ')}function Yn(){console.log('%s - %s',Nn(),tn.apply(null,arguments))}function Fn(Vi,Ji){if(!Ji||!Pn(Ji))return Vi;for(var Qi=Object.keys(Ji),Zi=Qi.length;Zi--;)Vi[Qi[Zi]]=Ji[Qi[Zi]];return Vi}function Wn(Vi,Ji){return Object.prototype.hasOwnProperty.call(Vi,Ji)}var Kn={inherits:$t,_extend:Fn,log:Yn,isBuffer:Dn,isPrimitive:qn,isFunction:jn,isError:Tn,isDate:On,isObject:Pn,isRegExp:Ln,isUndefined:Bn,isSymbol:Cn,isString:An,isNumber:Rn,isNullOrUndefined:xn,isNull:In,isBoolean:Sn,isArray:kn,inspect:un,deprecate:nn,format:tn,debuglog:ln};function Hn(){this.head=null,this.tail=null,this.length=0}Hn.prototype.push=function(Vi){var Ji={data:Vi,next:null};0<this.length?this.tail.next=Ji:this.head=Ji,this.tail=Ji,++this.length},Hn.prototype.unshift=function(Vi){var Ji={data:Vi,next:this.head};0===this.length&&(this.tail=Ji),this.head=Ji,++this.length},Hn.prototype.shift=function(){if(0!==this.length){var Vi=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,Vi}},Hn.prototype.clear=function(){this.head=this.tail=null,this.length=0},Hn.prototype.join=function(Vi){if(0===this.length)return'';for(var Ji=this.head,Qi=''+Ji.data;Ji=Ji.next;)Qi+=Vi+Ji.data;return Qi},Hn.prototype.concat=function(Vi){if(0===this.length)return H.alloc(0);if(1===this.length)return this.head.data;for(var Ji=H.allocUnsafe(Vi>>>0),Qi=this.head,Zi=0;Qi;)Qi.data.copy(Ji,Zi),Zi+=Qi.data.length,Qi=Qi.next;return Ji};var Gn=H.isEncoding||function(Vi){switch(Vi&&Vi.toLowerCase()){case'hex':case'utf8':case'utf-8':case'ascii':case'binary':case'base64':case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':case'raw':return!0;default:return!1;}};function Xn(Vi){if(Vi&&!Gn(Vi))throw new Error('Unknown encoding: '+Vi)}function Vn(Vi){switch(this.encoding=(Vi||'utf8').toLowerCase().replace(/[-_]/,''),Xn(Vi),this.encoding){case'utf8':this.surrogateSize=3;break;case'ucs2':case'utf16le':this.surrogateSize=2,this.detectIncompleteChar=Qn;break;case'base64':this.surrogateSize=3,this.detectIncompleteChar=Zn;break;default:return void(this.write=Jn);}this.charBuffer=new H(6),this.charReceived=0,this.charLength=0}Vn.prototype.write=function(Vi){for(var Qi,Ji='';this.charLength;){if(Qi=Vi.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:Vi.length,Vi.copy(this.charBuffer,this.charReceived,0,Qi),this.charReceived+=Qi,this.charReceived<this.charLength)return'';Vi=Vi.slice(Qi,Vi.length),Ji=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var Zi=Ji.charCodeAt(Ji.length-1);if(55296<=Zi&&56319>=Zi){this.charLength+=this.surrogateSize,Ji='';continue}if(this.charReceived=this.charLength=0,0===Vi.length)return Ji;break}this.detectIncompleteChar(Vi);var $i=Vi.length;this.charLength&&(Vi.copy(this.charBuffer,0,Vi.length-this.charReceived,$i),$i-=this.charReceived),Ji+=Vi.toString(this.encoding,0,$i);var $i=Ji.length-1,Zi=Ji.charCodeAt($i);if(55296<=Zi&&56319>=Zi){var es=this.surrogateSize;return this.charLength+=es,this.charReceived+=es,this.charBuffer.copy(this.charBuffer,es,0,es),Vi.copy(this.charBuffer,0,0,es),Ji.substring(0,$i)}return Ji},Vn.prototype.detectIncompleteChar=function(Vi){for(var Qi,Ji=3<=Vi.length?3:Vi.length;0<Ji;Ji--){if(Qi=Vi[Vi.length-Ji],1==Ji&&6==Qi>>5){this.charLength=2;break}if(2>=Ji&&14==Qi>>4){this.charLength=3;break}if(3>=Ji&&30==Qi>>3){this.charLength=4;break}}this.charReceived=Ji},Vn.prototype.end=function(Vi){var Ji='';if(Vi&&Vi.length&&(Ji=this.write(Vi)),this.charReceived){var Qi=this.charReceived,Zi=this.charBuffer,$i=this.encoding;Ji+=Zi.slice(0,Qi).toString($i)}return Ji};function Jn(Vi){return Vi.toString(this.encoding)}function Qn(Vi){this.charReceived=Vi.length%2,this.charLength=this.charReceived?2:0}function Zn(Vi){this.charReceived=Vi.length%3,this.charLength=this.charReceived?3:0}ir.ReadableState=or;var $n=ln('stream');$t(ir,Mt);function tr(Vi,Ji,Qi){return'function'==typeof Vi.prependListener?Vi.prependListener(Ji,Qi):void(Vi._events&&Vi._events[Ji]?Array.isArray(Vi._events[Ji])?Vi._events[Ji].unshift(Qi):Vi._events[Ji]=[Qi,Vi._events[Ji]]:Vi.on(Ji,Qi))}function nr(Vi,Ji){return Vi.listeners(Ji).length}function or(Vi,Ji){Vi=Vi||{},this.objectMode=!!Vi.objectMode,Ji instanceof ta&&(this.objectMode=this.objectMode||!!Vi.readableObjectMode);var Qi=Vi.highWaterMark,Zi=this.objectMode?16:16384;this.highWaterMark=Qi||0===Qi?Qi:Zi,this.highWaterMark=~~this.highWaterMark,this.buffer=new Hn,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=Vi.defaultEncoding||'utf8',this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Vi.encoding&&(this.decoder=new Vn(Vi.encoding),this.encoding=Vi.encoding)}function ir(Vi){return this instanceof ir?void(this._readableState=new or(Vi,this),this.readable=!0,Vi&&'function'==typeof Vi.read&&(this._read=Vi.read),Mt.call(this)):new ir(Vi)}ir.prototype.push=function(Vi,Ji){var Qi=this._readableState;return Qi.objectMode||'string'!=typeof Vi||(Ji=Ji||Qi.defaultEncoding,Ji!==Qi.encoding&&(Vi=H.from(Vi,Ji),Ji='')),sr(this,Qi,Vi,Ji,!1)},ir.prototype.unshift=function(Vi){var Ji=this._readableState;return sr(this,Ji,Vi,'',!0)},ir.prototype.isPaused=function(){return!1===this._readableState.flowing};function sr(Vi,Ji,Qi,Zi,$i){var es=hr(Ji,Qi);if(es)Vi.emit('error',es);else if(null===Qi)Ji.reading=!1,fr(Vi,Ji);else if(!(Ji.objectMode||Qi&&0<Qi.length))$i||(Ji.reading=!1);else if(Ji.ended&&!$i){var ns=new Error('stream.push() after EOF');Vi.emit('error',ns)}else if(Ji.endEmitted&&$i){var as=new Error('stream.unshift() after end event');Vi.emit('error',as)}else{var os;!Ji.decoder||$i||Zi||(Qi=Ji.decoder.write(Qi),os=!Ji.objectMode&&0===Qi.length),$i||(Ji.reading=!1),os||(Ji.flowing&&0===Ji.length&&!Ji.sync?(Vi.emit('data',Qi),Vi.read(0)):(Ji.length+=Ji.objectMode?1:Qi.length,$i?Ji.buffer.unshift(Qi):Ji.buffer.push(Qi),Ji.needReadable&&gr(Vi))),yr(Vi,Ji)}return dr(Ji)}function dr(Vi){return!Vi.ended&&(Vi.needReadable||Vi.length<Vi.highWaterMark||0===Vi.length)}ir.prototype.setEncoding=function(Vi){return this._readableState.decoder=new Vn(Vi),this._readableState.encoding=Vi,this};var lr=8388608;function ur(Vi){return Vi>=lr?Vi=lr:(Vi--,Vi|=Vi>>>1,Vi|=Vi>>>2,Vi|=Vi>>>4,Vi|=Vi>>>8,Vi|=Vi>>>16,Vi++),Vi}function pr(Vi,Ji){return 0>=Vi||0===Ji.length&&Ji.ended?0:Ji.objectMode?1:Vi===Vi?(Vi>Ji.highWaterMark&&(Ji.highWaterMark=ur(Vi)),Vi<=Ji.length?Vi:Ji.ended?Ji.length:(Ji.needReadable=!0,0)):Ji.flowing&&Ji.length?Ji.buffer.head.data.length:Ji.length}ir.prototype.read=function(Vi){$n('read',Vi),Vi=parseInt(Vi,10);var Ji=this._readableState,Qi=Vi;if(0!==Vi&&(Ji.emittedReadable=!1),0===Vi&&Ji.needReadable&&(Ji.length>=Ji.highWaterMark||Ji.ended))return $n('read: emitReadable',Ji.length,Ji.ended),0===Ji.length&&Ji.ended?Ar(this):gr(this),null;if(Vi=pr(Vi,Ji),0===Vi&&Ji.ended)return 0===Ji.length&&Ar(this),null;var Zi=Ji.needReadable;$n('need readable',Zi),(0===Ji.length||Ji.length-Vi<Ji.highWaterMark)&&(Zi=!0,$n('length less than watermark',Zi)),Ji.ended||Ji.reading?(Zi=!1,$n('reading or ended',Zi)):Zi&&($n('do read'),Ji.reading=!0,Ji.sync=!0,0===Ji.length&&(Ji.needReadable=!0),this._read(Ji.highWaterMark),Ji.sync=!1,!Ji.reading&&(Vi=pr(Qi,Ji)));var $i;return $i=0<Vi?Sr(Vi,Ji):null,null===$i?(Ji.needReadable=!0,Vi=0):Ji.length-=Vi,0===Ji.length&&(!Ji.ended&&(Ji.needReadable=!0),Qi!==Vi&&Ji.ended&&Ar(this)),null!==$i&&this.emit('data',$i),$i};function hr(Vi,Ji){var Qi=null;return Fe(Ji)||'string'==typeof Ji||null===Ji||void 0===Ji||Vi.objectMode||(Qi=new TypeError('Invalid non-string/buffer chunk')),Qi}function fr(Vi,Ji){if(!Ji.ended){if(Ji.decoder){var Qi=Ji.decoder.end();Qi&&Qi.length&&(Ji.buffer.push(Qi),Ji.length+=Ji.objectMode?1:Qi.length)}Ji.ended=!0,gr(Vi)}}function gr(Vi){var Ji=Vi._readableState;Ji.needReadable=!1,Ji.emittedReadable||($n('emitReadable',Ji.flowing),Ji.emittedReadable=!0,Ji.sync?it(mr,Vi):mr(Vi))}function mr(Vi){$n('emit readable'),Vi.emit('readable'),kr(Vi)}function yr(Vi,Ji){Ji.readingMore||(Ji.readingMore=!0,it(br,Vi,Ji))}function br(Vi,Ji){for(var Qi=Ji.length;!Ji.reading&&!Ji.flowing&&!Ji.ended&&Ji.length<Ji.highWaterMark&&($n('maybeReadMore read 0'),Vi.read(0),Qi!==Ji.length);)Qi=Ji.length;Ji.readingMore=!1}ir.prototype._read=function(){this.emit('error',new Error('not implemented'))},ir.prototype.pipe=function(Vi,Ji){function Qi(gs){$n('onunpipe'),gs===ss&&$i()}function Zi(){$n('onend'),Vi.end()}function $i(){$n('cleanup'),Vi.removeListener('close',as),Vi.removeListener('finish',os),Vi.removeListener('drain',ps),Vi.removeListener('error',ns),Vi.removeListener('unpipe',Qi),ss.removeListener('end',Zi),ss.removeListener('end',$i),ss.removeListener('data',es),hs=!0,ds.awaitDrain&&(!Vi._writableState||Vi._writableState.needDrain)&&ps()}function es(gs){$n('ondata'),fs=!1;var ms=Vi.write(gs);!1!==ms||fs||((1===ds.pipesCount&&ds.pipes===Vi||1<ds.pipesCount&&-1!==Lr(ds.pipes,Vi))&&!hs&&($n('false write response, pause',ss._readableState.awaitDrain),ss._readableState.awaitDrain++,fs=!0),ss.pause())}function ns(gs){$n('onerror',gs),is(),Vi.removeListener('error',ns),0===nr(Vi,'error')&&Vi.emit('error',gs)}function as(){Vi.removeListener('finish',os),is()}function os(){$n('onfinish'),Vi.removeListener('close',as),is()}function is(){$n('unpipe'),ss.unpipe(Vi)}var ss=this,ds=this._readableState;switch(ds.pipesCount){case 0:ds.pipes=Vi;break;case 1:ds.pipes=[ds.pipes,Vi];break;default:ds.pipes.push(Vi);}ds.pipesCount+=1,$n('pipe count=%d opts=%j',ds.pipesCount,Ji);var ls=!Ji||!1!==Ji.end,us=ls?Zi:$i;ds.endEmitted?it(us):ss.once('end',us),Vi.on('unpipe',Qi);var ps=wr(ss);Vi.on('drain',ps);var hs=!1,fs=!1;return ss.on('data',es),tr(Vi,'error',ns),Vi.once('close',as),Vi.once('finish',os),Vi.emit('pipe',ss),ds.flowing||($n('pipe resume'),ss.resume()),Vi};function wr(Vi){return function(){var Ji=Vi._readableState;$n('pipeOnDrain',Ji.awaitDrain),Ji.awaitDrain&&Ji.awaitDrain--,0===Ji.awaitDrain&&Vi.listeners('data').length&&(Ji.flowing=!0,kr(Vi))}}ir.prototype.unpipe=function(Vi){var Ji=this._readableState;if(0===Ji.pipesCount)return this;if(1===Ji.pipesCount)return Vi&&Vi!==Ji.pipes?this:(Vi||(Vi=Ji.pipes),Ji.pipes=null,Ji.pipesCount=0,Ji.flowing=!1,Vi&&Vi.emit('unpipe',this),this);if(!Vi){var Qi=Ji.pipes,Zi=Ji.pipesCount;Ji.pipes=null,Ji.pipesCount=0,Ji.flowing=!1;for(var $i=0;$i<Zi;$i++)Qi[$i].emit('unpipe',this);return this}var es=Lr(Ji.pipes,Vi);return-1===es?this:(Ji.pipes.splice(es,1),Ji.pipesCount-=1,1===Ji.pipesCount&&(Ji.pipes=Ji.pipes[0]),Vi.emit('unpipe',this),this)},ir.prototype.on=function(Vi,Ji){var Qi=Mt.prototype.on.call(this,Vi,Ji);if('data'===Vi)!1!==this._readableState.flowing&&this.resume();else if('readable'===Vi){var Zi=this._readableState;Zi.endEmitted||Zi.readableListening||(Zi.readableListening=Zi.needReadable=!0,Zi.emittedReadable=!1,Zi.reading?Zi.length&&gr(this,Zi):it(_r,this))}return Qi},ir.prototype.addListener=ir.prototype.on;function _r(Vi){$n('readable nexttick read 0'),Vi.read(0)}ir.prototype.resume=function(){var Vi=this._readableState;return Vi.flowing||($n('resume'),Vi.flowing=!0,vr(this,Vi)),this};function vr(Vi,Ji){Ji.resumeScheduled||(Ji.resumeScheduled=!0,it(Er,Vi,Ji))}function Er(Vi,Ji){Ji.reading||($n('resume read 0'),Vi.read(0)),Ji.resumeScheduled=!1,Ji.awaitDrain=0,Vi.emit('resume'),kr(Vi),Ji.flowing&&!Ji.reading&&Vi.read(0)}ir.prototype.pause=function(){return $n('call pause flowing=%j',this._readableState.flowing),!1!==this._readableState.flowing&&($n('pause'),this._readableState.flowing=!1,this.emit('pause')),this};function kr(Vi){var Ji=Vi._readableState;for($n('flow',Ji.flowing);Ji.flowing&&null!==Vi.read(););}ir.prototype.wrap=function(Vi){var Ji=this._readableState,Qi=!1,Zi=this;for(var $i in Vi.on('end',function(){if($n('wrapped end'),Ji.decoder&&!Ji.ended){var ns=Ji.decoder.end();ns&&ns.length&&Zi.push(ns)}Zi.push(null)}),Vi.on('data',function(ns){if(($n('wrapped data'),Ji.decoder&&(ns=Ji.decoder.write(ns)),!(Ji.objectMode&&(null===ns||void 0===ns)))&&(Ji.objectMode||ns&&ns.length)){var as=Zi.push(ns);as||(Qi=!0,Vi.pause())}}),Vi)void 0===this[$i]&&'function'==typeof Vi[$i]&&(this[$i]=function(ns){return function(){return Vi[ns].apply(Vi,arguments)}}($i));return Br(['error','close','destroy','pause','resume'],function(ns){Vi.on(ns,Zi.emit.bind(Zi,ns))}),Zi._read=function(ns){$n('wrapped _read',ns),Qi&&(Qi=!1,Vi.resume())},Zi},ir._fromList=Sr;function Sr(Vi,Ji){if(0===Ji.length)return null;var Qi;return Ji.objectMode?Qi=Ji.buffer.shift():!Vi||Vi>=Ji.length?(Qi=Ji.decoder?Ji.buffer.join(''):1===Ji.buffer.length?Ji.buffer.head.data:Ji.buffer.concat(Ji.length),Ji.buffer.clear()):Qi=Ir(Vi,Ji.buffer,Ji.decoder),Qi}function Ir(Vi,Ji,Qi){var Zi;return Vi<Ji.head.data.length?(Zi=Ji.head.data.slice(0,Vi),Ji.head.data=Ji.head.data.slice(Vi)):Vi===Ji.head.data.length?Zi=Ji.shift():Zi=Qi?xr(Vi,Ji):Rr(Vi,Ji),Zi}function xr(Vi,Ji){var Qi=Ji.head,Zi=1,$i=Qi.data;for(Vi-=$i.length;Qi=Qi.next;){var es=Qi.data,ns=Vi>es.length?es.length:Vi;if($i+=ns===es.length?es:es.slice(0,Vi),Vi-=ns,0===Vi){ns===es.length?(++Zi,Ji.head=Qi.next?Qi.next:Ji.tail=null):(Ji.head=Qi,Qi.data=es.slice(ns));break}++Zi}return Ji.length-=Zi,$i}function Rr(Vi,Ji){var Qi=H.allocUnsafe(Vi),Zi=Ji.head,$i=1;for(Zi.data.copy(Qi),Vi-=Zi.data.length;Zi=Zi.next;){var es=Zi.data,ns=Vi>es.length?es.length:Vi;if(es.copy(Qi,Qi.length-Vi,0,ns),Vi-=ns,0===Vi){ns===es.length?(++$i,Ji.head=Zi.next?Zi.next:Ji.tail=null):(Ji.head=Zi,Zi.data=es.slice(ns));break}++$i}return Ji.length-=$i,Qi}function Ar(Vi){var Ji=Vi._readableState;if(0<Ji.length)throw new Error('"endReadable()" called on non-empty stream');Ji.endEmitted||(Ji.ended=!0,it(Cr,Ji,Vi))}function Cr(Vi,Ji){Vi.endEmitted||0!==Vi.length||(Vi.endEmitted=!0,Ji.readable=!1,Ji.emit('end'))}function Br(Vi,Ji){for(var Qi=0,Zi=Vi.length;Qi<Zi;Qi++)Ji(Vi[Qi],Qi)}function Lr(Vi,Ji){for(var Qi=0,Zi=Vi.length;Qi<Zi;Qi++)if(Vi[Qi]===Ji)return Qi;return-1}jr.WritableState=Tr,$t(jr,Mt);function Pr(){}function Or(Vi,Ji,Qi){this.chunk=Vi,this.encoding=Ji,this.callback=Qi,this.next=null}function Tr(Vi,Ji){Object.defineProperty(this,'buffer',{get:nn(function(){return this.getBuffer()},'_writableState.buffer is deprecated. Use _writableState.getBuffer instead.')}),Vi=Vi||{},this.objectMode=!!Vi.objectMode,Ji instanceof ta&&(this.objectMode=this.objectMode||!!Vi.writableObjectMode);var Qi=Vi.highWaterMark,Zi=this.objectMode?16:16384;this.highWaterMark=Qi||0===Qi?Qi:Zi,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var $i=!1===Vi.decodeStrings;this.decodeStrings=!$i,this.defaultEncoding=Vi.defaultEncoding||'utf8',this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(es){Fr(Ji,es)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new Qr(this)}Tr.prototype.getBuffer=function(){for(var Ji=this.bufferedRequest,Qi=[];Ji;)Qi.push(Ji),Ji=Ji.next;return Qi};function jr(Vi){return this instanceof jr||this instanceof ta?void(this._writableState=new Tr(Vi,this),this.writable=!0,Vi&&('function'==typeof Vi.write&&(this._write=Vi.write),'function'==typeof Vi.writev&&(this._writev=Vi.writev)),Mt.call(this)):new jr(Vi)}jr.prototype.pipe=function(){this.emit('error',new Error('Cannot pipe, not readable'))};function qr(Vi,Ji){var Qi=new Error('write after end');Vi.emit('error',Qi),it(Ji,Qi)}function Dr(Vi,Ji,Qi,Zi){var $i=!0,es=!1;return null===Qi?es=new TypeError('May not write null values to stream'):!H.isBuffer(Qi)&&'string'!=typeof Qi&&void 0!==Qi&&!Ji.objectMode&&(es=new TypeError('Invalid non-string/buffer chunk')),es&&(Vi.emit('error',es),it(Zi,es),$i=!1),$i}jr.prototype.write=function(Vi,Ji,Qi){var Zi=this._writableState,$i=!1;return'function'==typeof Ji&&(Qi=Ji,Ji=null),H.isBuffer(Vi)?Ji='buffer':!Ji&&(Ji=Zi.defaultEncoding),'function'!=typeof Qi&&(Qi=Pr),Zi.ended?qr(this,Qi):Dr(this,Zi,Vi,Qi)&&(Zi.pendingcb++,$i=Ur(this,Zi,Vi,Ji,Qi)),$i},jr.prototype.cork=function(){var Vi=this._writableState;Vi.corked++},jr.prototype.uncork=function(){var Vi=this._writableState;Vi.corked&&(Vi.corked--,!Vi.writing&&!Vi.corked&&!Vi.finished&&!Vi.bufferProcessing&&Vi.bufferedRequest&&Hr(this,Vi))},jr.prototype.setDefaultEncoding=function(Ji){if('string'==typeof Ji&&(Ji=Ji.toLowerCase()),!(-1<['hex','utf8','utf-8','ascii','binary','base64','ucs2','ucs-2','utf16le','utf-16le','raw'].indexOf((Ji+'').toLowerCase())))throw new TypeError('Unknown encoding: '+Ji);return this._writableState.defaultEncoding=Ji,this};function Mr(Vi,Ji,Qi){return Vi.objectMode||!1===Vi.decodeStrings||'string'!=typeof Ji||(Ji=H.from(Ji,Qi)),Ji}function Ur(Vi,Ji,Qi,Zi,$i){Qi=Mr(Ji,Qi,Zi),H.isBuffer(Qi)&&(Zi='buffer');var es=Ji.objectMode?1:Qi.length;Ji.length+=es;var ns=Ji.length<Ji.highWaterMark;if(ns||(Ji.needDrain=!0),Ji.writing||Ji.corked){var as=Ji.lastBufferedRequest;Ji.lastBufferedRequest=new Or(Qi,Zi,$i),as?as.next=Ji.lastBufferedRequest:Ji.bufferedRequest=Ji.lastBufferedRequest,Ji.bufferedRequestCount+=1}else zr(Vi,Ji,!1,es,Qi,Zi,$i);return ns}function zr(Vi,Ji,Qi,Zi,$i,es,ns){Ji.writelen=Zi,Ji.writecb=ns,Ji.writing=!0,Ji.sync=!0,Qi?Vi._writev($i,Ji.onwrite):Vi._write($i,es,Ji.onwrite),Ji.sync=!1}function Nr(Vi,Ji,Qi,Zi,$i){--Ji.pendingcb,Qi?it($i,Zi):$i(Zi),Vi._writableState.errorEmitted=!0,Vi.emit('error',Zi)}function Yr(Vi){Vi.writing=!1,Vi.writecb=null,Vi.length-=Vi.writelen,Vi.writelen=0}function Fr(Vi,Ji){var Qi=Vi._writableState,Zi=Qi.sync,$i=Qi.writecb;if(Yr(Qi),Ji)Nr(Vi,Qi,Zi,Ji,$i);else{var es=Gr(Qi);es||Qi.corked||Qi.bufferProcessing||!Qi.bufferedRequest||Hr(Vi,Qi),Zi?it(Wr,Vi,Qi,es,$i):Wr(Vi,Qi,es,$i)}}function Wr(Vi,Ji,Qi,Zi){Qi||Kr(Vi,Ji),Ji.pendingcb--,Zi(),Vr(Vi,Ji)}function Kr(Vi,Ji){0===Ji.length&&Ji.needDrain&&(Ji.needDrain=!1,Vi.emit('drain'))}function Hr(Vi,Ji){Ji.bufferProcessing=!0;var Qi=Ji.bufferedRequest;if(Vi._writev&&Qi&&Qi.next){var Zi=Ji.bufferedRequestCount,$i=Array(Zi),es=Ji.corkedRequestsFree;es.entry=Qi;for(var ns=0;Qi;)$i[ns]=Qi,Qi=Qi.next,ns+=1;zr(Vi,Ji,!0,Ji.length,$i,'',es.finish),Ji.pendingcb++,Ji.lastBufferedRequest=null,es.next?(Ji.corkedRequestsFree=es.next,es.next=null):Ji.corkedRequestsFree=new Qr(Ji)}else{for(;Qi;){var as=Qi.chunk,os=Qi.encoding,is=Qi.callback,ss=Ji.objectMode?1:as.length;if(zr(Vi,Ji,!1,ss,as,os,is),Qi=Qi.next,Ji.writing)break}null===Qi&&(Ji.lastBufferedRequest=null)}Ji.bufferedRequestCount=0,Ji.bufferedRequest=Qi,Ji.bufferProcessing=!1}jr.prototype._write=function(Vi,Ji,Qi){Qi(new Error('not implemented'))},jr.prototype._writev=null,jr.prototype.end=function(Vi,Ji,Qi){var Zi=this._writableState;'function'==typeof Vi?(Qi=Vi,Vi=null,Ji=null):'function'==typeof Ji&&(Qi=Ji,Ji=null),null!==Vi&&Vi!==void 0&&this.write(Vi,Ji),Zi.corked&&(Zi.corked=1,this.uncork()),Zi.ending||Zi.finished||Jr(this,Zi,Qi)};function Gr(Vi){return Vi.ending&&0===Vi.length&&null===Vi.bufferedRequest&&!Vi.finished&&!Vi.writing}function Xr(Vi,Ji){Ji.prefinished||(Ji.prefinished=!0,Vi.emit('prefinish'))}function Vr(Vi,Ji){var Qi=Gr(Ji);return Qi&&(0===Ji.pendingcb?(Xr(Vi,Ji),Ji.finished=!0,Vi.emit('finish')):Xr(Vi,Ji)),Qi}function Jr(Vi,Ji,Qi){Ji.ending=!0,Vr(Vi,Ji),Qi&&(Ji.finished?it(Qi):Vi.once('finish',Qi)),Ji.ended=!0,Vi.writable=!1}function Qr(Vi){var Ji=this;this.next=null,this.entry=null,this.finish=function(Qi){var Zi=Ji.entry;for(Ji.entry=null;Zi;){var $i=Zi.callback;Vi.pendingcb--,$i(Qi),Zi=Zi.next}Vi.corkedRequestsFree?Vi.corkedRequestsFree.next=Ji:Vi.corkedRequestsFree=Ji}}$t(ta,ir);for(var ea,Zr=Object.keys(jr.prototype),$r=0;$r<Zr.length;$r++)ea=Zr[$r],ta.prototype[ea]||(ta.prototype[ea]=jr.prototype[ea]);function ta(Vi){return this instanceof ta?void(ir.call(this,Vi),jr.call(this,Vi),Vi&&!1===Vi.readable&&(this.readable=!1),Vi&&!1===Vi.writable&&(this.writable=!1),this.allowHalfOpen=!0,Vi&&!1===Vi.allowHalfOpen&&(this.allowHalfOpen=!1),this.once('end',na)):new ta(Vi)}function na(){this.allowHalfOpen||this._writableState.ended||it(ra,this)}function ra(Vi){Vi.end()}$t(ia,ta);function aa(Vi){this.afterTransform=function(Ji,Qi){return oa(Vi,Ji,Qi)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function oa(Vi,Ji,Qi){var Zi=Vi._transformState;Zi.transforming=!1;var $i=Zi.writecb;if(!$i)return Vi.emit('error',new Error('no writecb in Transform class'));Zi.writechunk=null,Zi.writecb=null,null!==Qi&&Qi!==void 0&&Vi.push(Qi),$i(Ji);var es=Vi._readableState;es.reading=!1,(es.needReadable||es.length<es.highWaterMark)&&Vi._read(es.highWaterMark)}function ia(Vi){if(!(this instanceof ia))return new ia(Vi);ta.call(this,Vi),this._transformState=new aa(this);var Ji=this;this._readableState.needReadable=!0,this._readableState.sync=!1,Vi&&('function'==typeof Vi.transform&&(this._transform=Vi.transform),'function'==typeof Vi.flush&&(this._flush=Vi.flush)),this.once('prefinish',function(){'function'==typeof this._flush?this._flush(function(Qi){sa(Ji,Qi)}):sa(Ji)})}ia.prototype.push=function(Vi,Ji){return this._transformState.needTransform=!1,ta.prototype.push.call(this,Vi,Ji)},ia.prototype._transform=function(){throw new Error('Not implemented')},ia.prototype._write=function(Vi,Ji,Qi){var Zi=this._transformState;if(Zi.writecb=Qi,Zi.writechunk=Vi,Zi.writeencoding=Ji,!Zi.transforming){var $i=this._readableState;(Zi.needTransform||$i.needReadable||$i.length<$i.highWaterMark)&&this._read($i.highWaterMark)}},ia.prototype._read=function(){var Ji=this._transformState;null!==Ji.writechunk&&Ji.writecb&&!Ji.transforming?(Ji.transforming=!0,this._transform(Ji.writechunk,Ji.writeencoding,Ji.afterTransform)):Ji.needTransform=!0};function sa(Vi,Ji){if(Ji)return Vi.emit('error',Ji);var Qi=Vi._writableState,Zi=Vi._transformState;if(Qi.length)throw new Error('Calling transform done when ws.length != 0');if(Zi.transforming)throw new Error('Calling transform done when still transforming');return Vi.push(null)}$t(da,ia);function da(Vi){return this instanceof da?void ia.call(this,Vi):new da(Vi)}da.prototype._transform=function(Vi,Ji,Qi){Qi(null,Vi)},$t(la,Mt),la.Readable=ir,la.Writable=jr,la.Duplex=ta,la.Transform=ia,la.PassThrough=da,la.Stream=la;function la(){Mt.call(this)}la.prototype.pipe=function(Vi,Ji){function Qi(ss){Vi.writable&&!1===Vi.write(ss)&&os.pause&&os.pause()}function Zi(){os.readable&&os.resume&&os.resume()}function $i(){is||(is=!0,Vi.end())}function es(){is||(is=!0,'function'==typeof Vi.destroy&&Vi.destroy())}function ns(ss){if(as(),0===Mt.listenerCount(this,'error'))throw ss}function as(){os.removeListener('data',Qi),Vi.removeListener('drain',Zi),os.removeListener('end',$i),os.removeListener('close',es),os.removeListener('error',ns),Vi.removeListener('error',ns),os.removeListener('end',as),os.removeListener('close',as),Vi.removeListener('close',as)}var os=this;os.on('data',Qi),Vi.on('drain',Zi),Vi._isStdio||Ji&&!1===Ji.end||(os.on('end',$i),os.on('close',es));var is=!1;return os.on('error',ns),Vi.on('error',ns),os.on('end',as),os.on('close',as),Vi.on('close',as),Vi.emit('pipe',os),Vi};var ua=S(function(Vi,Ji){function Qi($i,es,ns){function as(){for(;ds.length&&!us.paused;){var ps=ds.shift();if(null===ps)return us.emit('end');us.emit('data',ps)}}function os(){us.writable=!1,es.call(us),!us.readable&&us.autoDestroy&&us.destroy()}$i=$i||function(ps){this.queue(ps)},es=es||function(){this.queue(null)};var is=!1,ss=!1,ds=[],ls=!1,us=new Zi;return us.readable=us.writable=!0,us.paused=!1,us.autoDestroy=!(ns&&!1===ns.autoDestroy),us.write=function(ps){return $i.call(this,ps),!us.paused},us.queue=us.push=function(ps){return ls?us:(null===ps&&(ls=!0),ds.push(ps),as(),us)},us.on('end',function(){us.readable=!1,!us.writable&&us.autoDestroy&&it(function(){us.destroy()})}),us.end=function(ps){if(!is)return is=!0,arguments.length&&us.write(ps),os(),us},us.destroy=function(){if(!ss)return ss=!0,is=!0,ds.length=0,us.writable=us.readable=!1,us.emit('close'),us},us.pause=function(){if(!us.paused)return us.paused=!0,us},us.resume=function(){return us.paused&&(us.paused=!1,us.emit('resume')),as(),us.paused||us.emit('drain'),us},us}var Zi=la;Ji=Vi.exports=Qi,Qi.through=Qi}),pa=ua&&'object'==typeof ua&&'default'in ua?ua['default']:ua,ha=S(function(Vi,Ji){function Qi($i,es,ns){function as(){for(;ds.length&&!us.paused;){var ps=ds.shift();if(null===ps)return us.emit('end');us.emit('data',ps)}}function os(){us.writable=!1,es.call(us),!us.readable&&us.autoDestroy&&us.destroy()}$i=$i||function(ps){this.queue(ps)},es=es||function(){this.queue(null)};var is=!1,ss=!1,ds=[],ls=!1,us=new Zi;return us.readable=us.writable=!0,us.paused=!1,us.autoDestroy=!(ns&&!1===ns.autoDestroy),us.write=function(ps){return $i.call(this,ps),!us.paused},us.queue=us.push=function(ps){return ls?us:(null===ps&&(ls=!0),ds.push(ps),as(),us)},us.on('end',function(){us.readable=!1,!us.writable&&us.autoDestroy&&it(function(){us.destroy()})}),us.end=function(ps){if(!is)return is=!0,arguments.length&&us.write(ps),os(),us},us.destroy=function(){if(!ss)return ss=!0,is=!0,ds.length=0,us.writable=us.readable=!1,us.emit('close'),us},us.pause=function(){if(!us.paused)return us.paused=!0,us},us.resume=function(){return us.paused&&(us.paused=!1,us.emit('resume')),as(),us.paused||us.emit('drain'),us},us}var Zi=la;Ji=Vi.exports=Qi,Qi.through=Qi}),ca=ha&&'object'==typeof ha&&'default'in ha?ha['default']:ha,fa=S(function(Vi){function Ji(os,is){if(os.forEach)return os.forEach(is);for(var ss=0;ss<os.length;ss++)is(os[ss],ss)}var $i=['write','end','destroy'],es=['resume','pause'],ns=['data','close'],as=Array.prototype.slice;Vi.exports=function(os,is){function ps(gs){hs.emit('error',gs)}var hs=new la,fs=!1;return Ji($i,function(gs){hs[gs]=function(){return os[gs].apply(os,arguments)}}),Ji(es,function(gs){hs[gs]=function(){hs.emit(gs);var ys=is[gs];return ys?ys.apply(is,arguments):void is.emit(gs)}}),Ji(ns,function(gs){is.on(gs,function(){var ys=as.call(arguments);ys.unshift(gs),hs.emit.apply(hs,ys)})}),is.on('end',function(){if(!fs){fs=!0;var gs=as.call(arguments);gs.unshift('end'),hs.emit.apply(hs,gs)}}),os.on('drain',function(){hs.emit('drain')}),os.on('error',ps),is.on('error',ps),hs.writable=os.writable,hs.readable=is.readable,hs}}),ga=fa&&'object'==typeof fa&&'default'in fa?fa['default']:fa,ma=S(function(Vi){Vi.exports=function(){function Zi(ss){2>ss.length||(ss[0].pipe(ss[1]),Zi(ss.slice(1)))}function $i(){var ss=[].slice.call(arguments);ss.unshift('error'),os.emit.apply(os,ss)}var es;if(es=1==arguments.length&&Array.isArray(arguments[0])?arguments[0]:[].slice.call(arguments),0==es.length)return ca();if(1==es.length)return es[0];var ns=es[0],as=es[es.length-1],os=ga(ns,as);Zi(es);for(var is=1;is<es.length-1;is++)es[is].on('error',$i);return os}}),ya=ma&&'object'==typeof ma&&'default'in ma?ma['default']:ma;function ba(Vi,Ji){var Qi=[],Zi;Vi.on('data',function($i){Qi.push($i)}),Vi.on('end',function(){Zi||(Zi=!0,Ji(null,H.concat(Qi)))}),Vi.on('error',function($i){Zi||(Zi=!0,Ji($i))})}function wa(Vi){var Ji;return pa(function(Qi){Ji&&(Qi=H.concat([Ji,Qi]));var Zi=_Mathfloor(Qi.length/Vi)*Vi;Zi?Qi.length>Zi?(Ji=Qi.slice(Zi),this.emit('data',Qi.slice(0,Zi))):(Ji=void 0,this.emit('data',Qi)):Ji=Ji?H.concat([Ji,Qi]):Qi},function(){Ji&&this.emit('data',Ji),this.emit('end')})}function _a(Vi){var Ji=[],Qi=0;return pa(function(Zi){Ji.push(Zi),Qi+=Zi.length},function(){Vi(Qi),Ji.forEach(this.emit.bind(this,'data')),this.emit('end')})}var va={},Ea=S(function(Vi){!function(Zi){'use strict';function $i(as,os){if(os=os||{type:'Array'},'undefined'!=typeof jt&&'number'==typeof jt.pid)return es(as,os);var is=window.crypto||window.msCrypto;if(!is)throw new Error('Your browser does not support window.crypto.');return ns(as,os)}function es(as,os){var ss=va.randomBytes(as);switch(os.type){case'Array':return[].slice.call(ss);case'Buffer':return ss;case'Uint8Array':for(var ds=new Uint8Array(as),ls=0;ls<as;++ls)ds[ls]=ss.readUInt8(ls);return ds;default:throw new Error(os.type+' is unsupported.');}}function ns(as,os){var is=new Uint8Array(as),ss=window.crypto||window.msCrypto;switch(ss.getRandomValues(is),os.type){case'Array':return[].slice.call(is);case'Buffer':try{new H(1)}catch(ls){throw new Error('Buffer not supported in this environment. Use Node.js or Browserify for browser support.')}return new H(is);case'Uint8Array':return is;default:throw new Error(os.type+' is unsupported.');}}'undefined'!=typeof define&&define.amd?define([],function(){return $i}):'undefined'!=typeof Vi&&Vi.exports?Vi.exports=$i:Zi.secureRandom=$i,$i.randomArray=function(as){return $i(as,{type:'Array'})},$i.randomUint8Array=function(as){return $i(as,{type:'Uint8Array'})},$i.randomBuffer=function(as){return $i(as,{type:'Buffer'})}}(E)}),ka=Ea&&'object'==typeof Ea&&'default'in Ea?Ea['default']:Ea,Sa='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(Vi){return typeof Vi}:function(Vi){return Vi&&'function'==typeof Symbol&&Vi.constructor===Symbol&&Vi!==Symbol.prototype?'symbol':typeof Vi},Ia=function(Vi,Ji){if(!(Vi instanceof Ji))throw new TypeError('Cannot call a class as a function')},xa=function(){function Vi(Ji,Qi){for(var $i,Zi=0;Zi<Qi.length;Zi++)$i=Qi[Zi],$i.enumerable=$i.enumerable||!1,$i.configurable=!0,'value'in $i&&($i.writable=!0),Object.defineProperty(Ji,$i.key,$i)}return function(Ji,Qi,Zi){return Qi&&Vi(Ji.prototype,Qi),Zi&&Vi(Ji,Zi),Ji}}(),Ra=function Vi(Ji,Qi,Zi){null===Ji&&(Ji=Function.prototype);var $i=Object.getOwnPropertyDescriptor(Ji,Qi);if($i===void 0){var es=Object.getPrototypeOf(Ji);return null===es?void 0:Vi(es,Qi,Zi)}if('value'in $i)return $i.value;var ns=$i.get;return void 0===ns?void 0:ns.call(Zi)},Aa=function(Vi,Ji){if('function'!=typeof Ji&&null!==Ji)throw new TypeError('Super expression must either be null or a function, not '+typeof Ji);Vi.prototype=Object.create(Ji&&Ji.prototype,{constructor:{value:Vi,enumerable:!1,writable:!0,configurable:!0}}),Ji&&(Object.setPrototypeOf?Object.setPrototypeOf(Vi,Ji):Vi.__proto__=Ji)},Ca=function(Vi,Ji){if(!Vi)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return Ji&&('object'==typeof Ji||'function'==typeof Ji)?Ji:Vi},Ba=function Vi(Ji,Qi,Zi,$i){var es=Object.getOwnPropertyDescriptor(Ji,Qi);if(es===void 0){var ns=Object.getPrototypeOf(Ji);null!==ns&&Vi(ns,Qi,Zi,$i)}else if('value'in es&&es.writable)es.value=Zi;else{var as=es.set;as!==void 0&&as.call($i,Zi)}return Zi},La=function(){function Vi(Ji,Qi){var Zi=[],$i=!0,es=!1,ns;try{for(var os,as=Ji[Symbol.iterator]();!($i=(os=as.next()).done)&&(Zi.push(os.value),!(Qi&&Zi.length===Qi));$i=!0);}catch(is){es=!0,ns=is}finally{try{!$i&&as['return']&&as['return']()}finally{if(es)throw ns}}return Zi}return function(Ji,Qi){if(Array.isArray(Ji))return Ji;if(Symbol.iterator in Object(Ji))return Vi(Ji,Qi);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}(),Pa=function(){function Vi(Ji){Ia(this,Vi),this._tables[0][0][0]||this._precompute();var $i,es,ns,Qi=void 0,Zi=void 0,as=this._tables[0][4],os=this._tables[1],is=Ji.length,ss=1;if(4!==is&&6!==is&&8!==is)throw new Error('invalid aes key size');for(this._key=[es=Ji.slice(0),ns=[]],Qi=is;Qi<4*is+28;Qi++)$i=es[Qi-1],(0==Qi%is||8===is&&4==Qi%is)&&($i=as[$i>>>24]<<24^as[255&$i>>16]<<16^as[255&$i>>8]<<8^as[255&$i],0==Qi%is&&($i=$i<<8^$i>>>24^ss<<24,ss=ss<<1^283*(ss>>7))),es[Qi]=es[Qi-is]^$i;for(Zi=0;Qi;Zi++,Qi--)$i=es[3&Zi?Qi:Qi-4],ns[Zi]=4>=Qi||4>Zi?$i:os[0][as[$i>>>24]]^os[1][as[255&$i>>16]]^os[2][as[255&$i>>8]]^os[3][as[255&$i]]}return xa(Vi,[{key:'encrypt',value:function(Qi){return this._crypt(Qi,0)}},{key:'decrypt',value:function(Qi){return this._crypt(Qi,1)}},{key:'_precompute',value:function(){var as,os,ds,ls,us,ps,hs,fs,Qi=this._tables[0],Zi=this._tables[1],$i=Qi[4],es=Zi[4],ns=void 0,is=[],ss=[];for(ns=0;256>ns;ns++)ss[(is[ns]=ns<<1^283*(ns>>7))^ns]=ns;for(as=os=0;!$i[as];as^=ds||1,os=ss[os]||1)for(ps=os^os<<1^os<<2^os<<3^os<<4,ps=99^(ps>>8^255&ps),$i[as]=ps,es[ps]=as,us=is[ls=is[ds=is[as]]],fs=16843009*us^65537*ls^257*ds^16843008*as,hs=257*is[ps]^16843008*ps,ns=0;4>ns;ns++)Qi[ns][as]=hs=hs<<24^hs>>>8,Zi[ns][ps]=fs=fs<<24^fs>>>8;for(ns=0;5>ns;ns++)Qi[ns]=Qi[ns].slice(0),Zi[ns]=Zi[ns].slice(0)}},{key:'_crypt',value:function(Qi,Zi){if(4!==Qi.length)throw new Error('invalid aes block size');var is,ss,ds,$i=this._key[Zi],es=Qi[0]^$i[0],ns=Qi[Zi?3:1]^$i[1],as=Qi[2]^$i[2],os=Qi[Zi?1:3]^$i[3],ls=$i.length/4-2,us=void 0,ps=4,hs=[0,0,0,0],fs=this._tables[Zi],gs=fs[0],ms=fs[1],ys=fs[2],vs=fs[3],Es=fs[4];for(us=0;us<ls;us++)is=gs[es>>>24]^ms[255&ns>>16]^ys[255&as>>8]^vs[255&os]^$i[ps],ss=gs[ns>>>24]^ms[255&as>>16]^ys[255&os>>8]^vs[255&es]^$i[ps+1],ds=gs[as>>>24]^ms[255&os>>16]^ys[255&es>>8]^vs[255&ns]^$i[ps+2],os=gs[os>>>24]^ms[255&es>>16]^ys[255&ns>>8]^vs[255&as]^$i[ps+3],ps+=4,es=is,ns=ss,as=ds;for(us=0;4>us;us++)hs[Zi?3&-us:us]=Es[es>>>24]<<24^Es[255&ns>>16]<<16^Es[255&as>>8]<<8^Es[255&os]^$i[ps++],is=es,es=ns,ns=as,as=os,os=is;return hs}}]),Vi}();Pa.prototype._tables=[[[],[],[],[],[]],[[],[],[],[],[]]];function Oa(Vi){var Ji=void 0,Qi,Zi=void 0,$i=[2479122403,2108737444,3518906241,22203222];for(Zi=65536;Zi--;)for(Qi=0;Qi<Vi.length;Qi+=16){var es=[0,0,0,0];for(Ji=0;16>Ji;Ji+=4)Ji+Qi<Vi.length&&(es[Ji/4]=Vi.readInt32BE(Ji+Qi,!0));$i=new Pa(es).encrypt($i)}var ns=H.allocUnsafe(16);for(Ji=0;4>Ji;Ji++)ns.writeInt32BE($i[Ji],4*Ji,!0);return ns}var Ta=function(){function Vi(Ji){Ia(this,Vi);for(var Qi=[],Zi=0;4>Zi;Zi++)Qi[Zi]=Ji.readInt32BE(4*Zi);this.aes=new Pa(Qi)}return xa(Vi,[{key:'encryptCBC',value:function(Qi){var es,Zi=[0,0,0,0],$i=[,,,,],ns=void 0;for(es=0;es<Qi.length;es+=16){for(ns=0;4>ns;ns++)$i[ns]=Qi.readUInt32BE(es+4*ns,!1)^Zi[ns];for(Zi=this.aes.encrypt($i),ns=0;4>ns;ns++)Qi.writeInt32BE(Zi[ns],es+4*ns,!1)}}},{key:'decryptCBC',value:function(Qi){var ns,Zi=[0,0,0,0],$i=[,,,,],es=[,,,,],as=void 0;for(ns=0;ns<Qi.length;ns+=16){for(as=0;4>as;as++)$i[as]=Qi.readUInt32BE(ns+4*as,!1);for(es=$i,$i=this.aes.decrypt($i),as=0;4>as;as++)Qi.writeInt32BE($i[as]^Zi[as],ns+4*as,!1);Zi=es}}},{key:'stringhash',value:function(Qi){for(var Zi=[0,0,0,0],$i=0;$i<Qi.length;$i+=4)Zi[3&$i/4]^=Qi.readInt32BE($i,!0);for(var es=16384;es--;)Zi=this.aes.encrypt(Zi);var ns=H.allocUnsafe(8);return ns.writeInt32BE(Zi[0],0,!0),ns.writeInt32BE(Zi[2],4,!0),ns}},{key:'encryptECB',value:function(Qi){for(var Zi=[],$i=0;$i<Qi.length;$i+=16)Zi[0]=Qi.readInt32BE($i,!1),Zi[1]=Qi.readInt32BE($i+4,!1),Zi[2]=Qi.readInt32BE($i+8,!1),Zi[3]=Qi.readInt32BE($i+12,!1),Zi=this.aes.encrypt(Zi),Qi.writeInt32BE(Zi[0],$i,!1),Qi.writeInt32BE(Zi[1],$i+4,!1),Qi.writeInt32BE(Zi[2],$i+8,!1),Qi.writeInt32BE(Zi[3],$i+12,!1);return Qi}},{key:'decryptECB',value:function(Qi){for(var Zi=[],$i=0;$i<Qi.length;$i+=16)Zi[0]=Qi.readInt32BE($i,!1),Zi[1]=Qi.readInt32BE($i+4,!1),Zi[2]=Qi.readInt32BE($i+8,!1),Zi[3]=Qi.readInt32BE($i+12,!1),Zi=this.aes.decrypt(Zi),Qi.writeInt32BE(Zi[0],$i,!1),Qi.writeInt32BE(Zi[1],$i+4,!1),Qi.writeInt32BE(Zi[2],$i+8,!1),Qi.writeInt32BE(Zi[3],$i+12,!1);return Qi}}]),Vi}(),ja=function(){function Vi(Ji,Qi){var Zi=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;Ia(this,Vi),this.aes=Ji.aes,this.nonce=[Qi.readInt32BE(0),Qi.readInt32BE(4)],this.increment=131072,this.posNext=Zi+this.increment,this.pos=Zi,this.ctr=[this.nonce[0],this.nonce[1],0,0],this.mac=[this.ctr[0],this.ctr[1],this.ctr[0],this.ctr[1]],this.macs=[],0!==Zi&&this.incrementCTRBuffer(Zi/16)}return xa(Vi,[{key:'condensedMac',value:function(){this.mac&&(this.macs.push(this.mac),this.mac=void 0);for(var Qi=[0,0,0,0],Zi=0;Zi<this.macs.length;Zi++){for(var $i=0;4>$i;$i++)Qi[$i]^=this.macs[Zi][$i];Qi=this.aes.encrypt(Qi)}var es=H.allocUnsafe(8);return es.writeInt32BE(Qi[0]^Qi[1],0),es.writeInt32BE(Qi[2]^Qi[3],4),es}},{key:'encrypt',value:function(Qi){for(var $i,Zi=0;Zi<Qi.length;Zi+=16){$i=[],$i[0]=Qi.readInt32BE(Zi,!0),$i[1]=Qi.readInt32BE(Zi+4,!0),$i[2]=Qi.readInt32BE(Zi+8,!0),$i[3]=Qi.readInt32BE(Zi+12,!0),this.mac[0]^=$i[0],this.mac[1]^=$i[1],this.mac[2]^=$i[2],this.mac[3]^=$i[3],this.mac=this.aes.encrypt(this.mac);var es=this.aes.encrypt(this.ctr);Qi.writeInt32BE($i[0]^es[0],Zi,!0),Qi.writeInt32BE($i[1]^es[1],Zi+4,!0),Qi.writeInt32BE($i[2]^es[2],Zi+8,!0),Qi.writeInt32BE($i[3]^es[3],Zi+12,!0),this.incrementCTR()}}},{key:'decrypt',value:function(Qi){for(var Zi=0;Zi<Qi.length;Zi+=16){var $i=[],es=this.aes.encrypt(this.ctr);$i[0]=Qi.readInt32BE(Zi,!0)^es[0],$i[1]=Qi.readInt32BE(Zi+4,!0)^es[1],$i[2]=Qi.readInt32BE(Zi+8,!0)^es[2],$i[3]=Qi.readInt32BE(Zi+12,!0)^es[3],Qi.writeInt32BE($i[0],Zi,!0),Qi.writeInt32BE($i[1],Zi+4,!0),Qi.writeInt32BE($i[2],Zi+8,!0),Qi.writeInt32BE($i[3],Zi+12,!0),this.mac[0]^=Qi.readInt32BE(Zi,!0),this.mac[1]^=Qi.readInt32BE(Zi+4,!0),this.mac[2]^=Qi.readInt32BE(Zi+8,!0),this.mac[3]^=Qi.readInt32BE(Zi+12,!0),this.mac=this.aes.encrypt(this.mac),this.incrementCTR()}}},{key:'incrementCTR',value:function(){this.ctr[3]++,2147483648===this.ctr[3]?this.ctr[3]=-2147483648:0===this.ctr[3]&&this.ctr[2]++,this.pos+=16,this.pos>=this.posNext&&(this.macs.push(this.mac),this.mac=[this.ctr[0],this.ctr[1],this.ctr[0],this.ctr[1]],1048576>this.increment&&(this.increment+=131072),this.posNext+=this.increment)}},{key:'incrementCTRBuffer',value:function(Qi){for(var Zi=0;Zi<Qi;Zi++)this.incrementCTR()}}]),Vi}();function qa(Vi){return'string'==typeof Vi?Ma(Vi):Vi}function Da(Vi){return Vi.toString('base64').replace(/\+/g,'-').replace(/\//g,'_').replace(/=/g,'')}function Ma(Vi){return Vi+='=='.substr(3&2-3*Vi.length),Vi=Vi.replace(/-/g,'+').replace(/_/g,'/').replace(/,/g,''),H.from(Vi,'base64')}function Ua(Vi){return new Ta(Ya(Vi).slice(0,16))}function za(Vi){var Zi=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},$i=Zi.start||0;if(0!==$i)throw Error('Encryption cannot start midstream otherwise MAC verification will fail.');Vi=qa(Vi),Vi||(Vi=ka(24)),Vi instanceof H||(Vi=H.from(Vi));var es=pa(function(os){as.encrypt(os),this.emit('data',os)},function(){var os=as.condensedMac();es.key=Fa(Vi,os),this.emit('end')});if(24!==Vi.length)return it(function(){es.emit('error',Error('Wrong key length. Key must be 192bit.'))});var ns=new Ta(Vi.slice(0,16)),as=new ja(ns,Vi.slice(16),$i);return es=ya(wa(16),es),es}function Na(Vi){var Zi=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},$i=Zi.start||0;if(0!==$i&&(Zi.disableVerification=!0),0!=$i%16)throw Error('start argument of megaDecrypt must be a multiple of 16');Vi=qa(Vi);var es=pa(function(os){as.decrypt(os),this.emit('data',os)},function(){var os=as.condensedMac();return os.equals(Vi.slice(24))||Zi.disableVerification?void this.emit('end'):this.emit('error',Error('MAC verification failed'))}),ns=Ua(Vi),as=new ja(ns,Vi.slice(16),$i);return es=ya(wa(16),es),es}function Ya(Vi){var Ji=H.allocUnsafe(32);Vi.copy(Ji);for(var Qi=0;16>Qi;Qi++)Ji.writeUInt8(Ji.readUInt8(Qi)^Ji.readUInt8(16+Qi,!0),Qi);return Ji}function Fa(Vi,Ji){var Qi=H.allocUnsafe(32);Vi.copy(Qi),Ji.copy(Qi,24);for(var Zi=0;16>Zi;Zi++)Qi.writeUInt8(Qi.readUInt8(Zi)^Qi.readUInt8(16+Zi),Zi);return Qi}function Wa(Vi,Ji){if(Vi.length!==Ji.length)return!1;for(var Qi=Vi.length,Zi=0,$i=0;$i<Qi;$i++)Zi|=Vi[$i]^Ji[$i];return 0==Zi}var Ka={},Ha=28,Ga=1<<Ha,Xa=Ga-1,Va=Ha>>1,Ja=(1<<Va)-1,Qa=0.6931471805599453;function Za(Vi){for(var Ji=[];0<Vi--;)Ji[Vi]=0;return Ji}function $a(Vi){var Ji=Vi.length;if(Vi[Ji-1])return Vi;for(;1<Ji&&0===Vi[Ji-1];)Ji--;return Vi.slice(0,Ji)}function eo(Vi){var Qi,Ji=1;return 0!=(Qi=Vi>>>16)&&(Vi=Qi,Ji+=16),0!=(Qi=Vi>>8)&&(Vi=Qi,Ji+=8),0!=(Qi=Vi>>4)&&(Vi=Qi,Ji+=4),0!=(Qi=Vi>>2)&&(Vi=Qi,Ji+=2),0!=(Qi=Vi>>1)&&(Vi=Qi,Ji+=1),Ji}function to(Vi,Ji){var Qi=Vi.length,Zi=Ji.length;if(Qi<Zi)return to(Ji,Vi);for(var $i=[],es=0,ns=0;ns<Zi;ns++)es+=Vi[ns]+Ji[ns],$i[ns]=es&Xa,es>>>=Ha;for(;ns<Qi;ns++)es+=Vi[ns],$i[ns]=es&Xa,es>>>=Ha;return es&&($i[ns]=es),$i}function no(Vi,Ji){var Qi=Vi.length,Zi=Ji.length;if(Zi>Qi)return[];if(Zi===Qi){if(Ji[Zi-1]>Vi[Zi-1])return[];if(1===Zi)return[Vi[0]-Ji[0]]}var $i=[],es=0,ns=void 0;for(ns=0;ns<Zi;ns++)es+=Vi[ns]-Ji[ns],$i[ns]=es&Xa,es>>=Ha;for(;ns<Qi;ns++)es+=Vi[ns],$i[ns]=es&Xa,es>>=Ha;return es?[]:$a($i)}function ro(Vi,Ji,Qi,Zi,$i){var es=Qi&Ja,ns=Qi>>Va,as=Zi&Ja,os=Zi>>Va,is=ns*as+os*es,ss=es*as+((is&Ja)<<Va)+Vi[Ji]+$i;return Vi[Ji]=ss&Xa,$i=ns*os+(is>>Va)+(ss>>Ha),$i}function ao(Vi){var Ji=Vi.length,Zi=Za(2*Ji),$i=0,es=void 0,ns=void 0;for(es=0;es<Ji;es++){for($i=ro(Zi,2*es,Vi[es],Vi[es],0),ns=es+1;ns<Ji;ns++)$i=ro(Zi,es+ns,2*Vi[ns],Vi[es],$i);Zi[es+Ji]=$i}return $a(Zi)}function oo(Vi,Ji){var Qi=Vi.length,Zi=Ji.length,$i=Za(Qi+Zi-1),es,ns=void 0,as=void 0;for(ns=0;ns<Zi;ns++){for(es=0,as=0;as<Qi;as++)es=ro($i,ns+as,Vi[as],Ji[ns],es);$i[ns+Qi]=es}return $a($i)}function io(Vi,Ji,Qi){for(var Zi=0;0<=Ji&&0<Qi--;)Zi=Zi*Ga+Vi[Ji--];return Zi}function so(Vi,Ji){var es,ns,os,Qi=Vi.length-1,Zi=Ji.length-1,$i=Qi-Zi,as=void 0,is=void 0;if(Qi<Zi||Qi==Zi&&(Vi[Qi]<Ji[Qi]||0<Qi&&Vi[Qi]===Ji[Qi]&&Vi[Qi-1]<Ji[Qi-1]))return Ka.q=[0],Ka.mod=Vi,Ka;if(Qi==Zi&&4>io(Vi,Zi,2)/io(Ji,Zi,2)){for(es=Vi.concat(),as=0;;){if(os=no(es,Ji),0===os.length)break;es=os,as++}return Ka.q=[as],Ka.mod=es,Ka}var ss=_Mathfloor(_Mathlog(Ji[Zi])/Qa)+1,ds=Ha-ss;if(es=Vi.concat(),ns=Ji.concat(),ds){for(is=Zi;0<is;is--)ns[is]=ns[is]<<ds&Xa|ns[is-1]>>ss;for(ns[0]=ns[0]<<ds&Xa,es[Qi]&(Xa<<ss&Xa)&&(es[++Qi]=0,$i++),is=Qi;0<is;is--)es[is]=es[is]<<ds&Xa|es[is-1]>>ss;es[0]=es[0]<<ds&Xa}for(var ls,us=Za($i+1),ps=Za($i).concat(ns);;){if(ls=no(es,ps),0===ls.length)break;us[$i]++,es=ls}var gs,hs=ns[Zi],fs=io(ns,Zi,2);for(is=Qi;is>Zi;is--){gs=is-Zi-1,us[gs]=is>=es.length?1:es[is]===hs?Xa:_Mathfloor(io(es,is,2)/hs);for(var ms=io(es,is,3);us[gs]*fs>ms;)us[gs]--;ps=ps.slice(1),ls=no(es,oo([us[gs]],ps)),0===ls.length&&(us[gs]--,ls=no(es,oo([us[gs]],ps))),es=ls}if(ds){for(is=0;is<es.length-1;is++)es[is]=es[is]>>ds|es[is+1]<<ss&Xa;es[es.length-1]>>=ds}return Ka.q=$a(us),Ka.mod=$a(es),Ka}function uo(Vi,Ji){for(var Qi=0,Zi=void 0,$i=Vi.length-1;0<=$i;$i--)Zi=Vi[$i],Qi=((Zi>>Va)+(Qi<<Va))%Ji,Qi=((Zi&Ja)+(Qi<<Va))%Ji;return Qi}function po(Vi,Ji){if(1===Ji.length){if(1===Vi.length)return[Vi[0]%Ji[0]];if(Ji[0]<Ja)return[uo(Vi,Ji[0])]}var Qi=so(Vi,Ji);return Qi.mod}function ho(Vi,Ji,Qi){var Zi=Vi.length-(Ji.length<<1);if(0<Zi)return ho(Vi.slice(0,Zi).concat(ho(Vi.slice(Zi),Ji,Qi)),Ji,Qi);var $i=Ji.length+1,es=Ji.length-1,ns,as=oo(Vi.slice(es),Qi).slice($i),os=Vi.slice(0,$i),is=oo(as,Ji).slice(0,$i),ss=no(os,is);0===ss.length&&(os[$i]=1,ss=no(os,is));for(var ds=0;;ds++){if(ns=no(ss,Ji),0===ns.length)break;if(ss=ns,3<=ds)return ho(ss,Ji,Qi)}return ss}function co(Vi,Ji,Qi){var Zi=Vi.concat(),$i=Ji.length-1,es=2*Qi.length,ns=Za(es+1);for(ns[es]=1,ns=so(ns,Qi).q,es=eo(Ji[$i])-2;0<=$i;$i--){for(;0<=es;es-=1)Zi=ho(ao(Zi),Qi,ns),Ji[$i]&1<<es&&(Zi=ho(oo(Zi,Vi),Qi,ns));es=Ha-1}return Zi}function fo(Vi,Ji,Qi,Zi,$i){var es=co(po(Vi,Qi),po(Ji,no(Qi,[1])),Qi),ns=co(po(Vi,Zi),po(Ji,no(Zi,[1])),Zi),as=no(ns,es);return 0===as.length?(as=no(es,ns),as=po(oo(as,$i),Zi),as=no(Zi,as)):as=po(oo(as,$i),Zi),to(oo(as,Qi),es)}function go(Vi){var Ji=1,Qi=[0],Zi=0,$i=256,es=Vi.length,ns;if(2>es)return 0;var as=8*(es-2),os=256*Vi.charCodeAt(0)+Vi.charCodeAt(1);if(os>as||os<as-8)return 0;for(var is=0;is<as;is++)255<($i<<=1)&&($i=1,ns=Vi.charCodeAt(--es)),Ji>Xa&&(Ji=1,Qi[++Zi]=0),ns&$i&&(Qi[Zi]|=Ji),Ji<<=1;return Qi}function mo(Vi){var Ji=1,Qi=0,Zi=[0],$i=1,es=0,ns=Vi.length*Ha,as='',os=void 0;for(os=0;os<ns;os++)Vi[Qi]&Ji&&(Zi[es]|=$i),255<($i<<=1)&&($i=1,Zi[++es]=0),(Ji<<=1)>Xa&&(Ji=1,Qi++);for(;0<=es&&0===Zi[es];)es--;for(os=0;os<=es;os++)as=_StringfromCharCode(Zi[os])+as;return as}function yo(Vi){for(var Zi,Ji=[],Qi=0;4>Qi;Qi++){if(Zi=(256*Vi[0]+Vi[1]+7>>3)+2,Ji[Qi]=go(Vi.toString('binary').substr(0,Zi)),'number'==typeof Ji[Qi]){if(4!==Qi||16<=Vi.length)return!1;break}Vi=Vi.slice(Zi)}return Ji}function bo(Vi,Ji){var Qi=go(Vi.toString('binary')),Zi=mo(fo(Qi,Ji[2],Ji[0],Ji[1],Ji[3]));return H.from(Zi,'binary')}var wo='undefined'==typeof window?self:window;vo.log={trace:xo,debug:xo,info:xo,warn:xo,error:xo};var _o=180000;function vo(Vi,Ji){if(!Vi)throw Error('No options given');var Qi=Vi.onResponse;if(Vi='string'==typeof Vi?{uri:Vi}:JSON.parse(JSON.stringify(Vi)),Vi.onResponse=Qi,Vi.verbose&&(vo.log=Ro()),Vi.url&&(Vi.uri=Vi.url,delete Vi.url),!Vi.uri&&''!==Vi.uri)throw Error('options.uri is a required argument');if('string'!=typeof Vi.uri)throw Error('options.uri must be a string');for(var Zi=['proxy','_redirectsFollowed','maxRedirects','followRedirect'],$i=0;$i<Zi.length;$i++)if(Vi[Zi[$i]])throw Error('options.'+Zi[$i]+' is not supported');if(Vi.callback=Ji||xo,Vi.method=Vi.method||'GET',Vi.headers=Vi.headers||{},Vi.body=Vi.body||null,Vi.timeout=Vi.timeout||vo.DEFAULT_TIMEOUT,Vi.headers.host)throw Error('Options.headers.host is not supported');Vi.json&&(Vi.headers.accept=Vi.headers.accept||'application/json','GET'!==Vi.method&&(Vi.headers['content-type']='application/json'),'boolean'==typeof Vi.json?'string'!=typeof Vi.body&&(Vi.body=JSON.stringify(Vi.body)):Vi.body=JSON.stringify(Vi.json));var es=function(ds){var ls=[];for(var us in ds)ds.hasOwnProperty(us)&&ls.push(encodeURIComponent(us)+'='+encodeURIComponent(ds[us]));return ls.join('&')};if(Vi.qs){var ns='string'==typeof Vi.qs?Vi.qs:es(Vi.qs);Vi.uri=-1===Vi.uri.indexOf('?')?Vi.uri+'?'+ns:Vi.uri+'&'+ns}var as=function(ds){var ls={boundry:'-------------------------------'+_Mathfloor(1e9*Math.random())},us=[];for(var ps in ds)ds.hasOwnProperty(ps)&&us.push('--'+ls.boundry+'\nContent-Disposition: form-data; name="'+ps+'"\n\n'+ds[ps]+'\n');return us.push('--'+ls.boundry+'--'),ls.body=us.join(''),ls.length=ls.body.length,ls.type='multipart/form-data; boundary='+ls.boundry,ls};if(Vi.form){if('string'==typeof Vi.form)throw Error('form name unsupported');if('POST'===Vi.method){var os=(Vi.encoding||'application/x-www-form-urlencoded').toLowerCase();switch(Vi.headers['content-type']=os,os){case'application/x-www-form-urlencoded':Vi.body=es(Vi.form).replace(/%20/g,'+');break;case'multipart/form-data':var is=as(Vi.form);Vi.body=is.body,Vi.headers['content-type']=is.type;break;default:throw Error('unsupported encoding:'+os);}}}return Vi.onResponse=Vi.onResponse||xo,!0===Vi.onResponse&&(Vi.onResponse=Ji,Vi.callback=xo),!Vi.headers.authorization&&Vi.auth&&(Vi.headers.authorization='Basic '+H.from(Vi.auth.username+':'+Vi.auth.password,'utf-8').toString('base64')),'function'!=typeof fetch||'function'!=typeof ReadableStream&&wo.XMLHttpRequest?ko(Vi):So(Vi)}var Eo=0;function ko(Vi){function Zi(){if(!ls.response){if(ls.response=!0,vo.log.debug('Got response',{id:ns.id,status:ns.status}),clearTimeout(ns.timeoutTimer),ns.statusCode=ns.status,as&&0===ns.statusCode){var ps=new Error('CORS request rejected: '+Vi.uri);return ps.cors='rejected',ls.loading=!0,ls.end=!0,us.emit('error',ps),Vi.callback(ps,ns)}Vi.onResponse(null,ns)}}function $i(){if(ns.response){var ps=ns.responseText.substr(ss);ss+=ps.length,0<ps.length&&us.push(H.from(ps,'ascii'))}ls.loading||(ls.loading=!0,vo.log.debug('Response body loading',{id:ns.id}))}function es(){if(!ls.end){if(ls.end=!0,vo.log.debug('Request done',{id:ns.id}),us.push(null),ns.body=ns.responseText,Vi.json)try{ns.body=JSON.parse(ns.responseText)}catch(ps){return us.emit('error',ps),Vi.callback(ps,ns)}Vi.callback(null,ns,ns.body)}}var ns=new wo.XMLHttpRequest,as=Co(Vi.uri),is=!1,ss=0;if(Eo+=1,ns.seq_id=Eo,ns.id=Eo+': '+Vi.method+' '+Vi.uri,ns._id=ns.id,as&&!('withCredentials'in ns)){var ds=new Error('Browser does not support cross-origin request: '+Vi.uri);return ds.cors='unsupported',Vi.callback(ds,ns)}ns.timeoutTimer=setTimeout(function(){is=!0;var ps=new Error('ETIMEDOUT');return ps.code='ETIMEDOUT',ps.duration=Vi.timeout,vo.log.error('Timeout',{id:ns._id,milliseconds:Vi.timeout}),Vi.callback(ps,ns)},Vi.timeout);var ls={response:!1,loading:!1,end:!1};ns.overrideMimeType('text/plain; charset=x-user-defined'),ns.onreadystatechange=function(){if(is)return vo.log.debug('Ignoring timed out state change',{state:ns.readyState,id:ns.id});if(vo.log.debug('State change',{state:ns.readyState,id:ns.id,timedOut:is}),ns.readyState===wo.XMLHttpRequest.OPENED)for(var hs in vo.log.debug('Request started',{id:ns.id}),Vi.headers)ns.setRequestHeader(hs,Vi.headers[hs]);else ns.readyState===wo.XMLHttpRequest.HEADERS_RECEIVED?Zi():ns.readyState===wo.XMLHttpRequest.LOADING?(Zi(),$i()):ns.readyState===wo.XMLHttpRequest.DONE&&(Zi(),$i(),es())},ns.open(Vi.method,Vi.uri,!0),as&&(ns.withCredentials=!!Vi.withCredentials),ns.send(Vi.body);var us=new la.Readable;return us._read=xo,us}function So(Vi){var Ji={};Eo+=1,Ji.seq_id=Eo,Ji.id=Eo+': '+Vi.method+' '+Vi.uri,Ji._id=Ji.id,Eo+=1;var Qi={};Vi.headers&&(Qi.headers=Vi.headers),Vi.method&&(Qi.method=Vi.method),Vi.body&&(Qi.body=Vi.body);var Zi=new la.Readable;return Zi._read=xo,wo.fetch(Vi.uri||Vi.url,Qi).then(function($i){function es(){ns.read().then(function(as){as.done?Zi.push(null):(Zi.push(H.from(as.value)),es())})}Ji.statusCode=Ji.status=$i.status,Zi.emit('response',{statusCode:$i.status,statusMessage:$i.statusText,headers:Array.from($i.headers).reduce(function(as,os){var is=La(os,2),ss=is[0],ds=is[1];return as[ss]=ds,as},{})}),Vi.callback&&$i.clone()[Vi.json?'json':'text']().then(function(as){return Vi.callback(null,Ji,as)}).catch(function(as){return Vi.callback(as)});var ns=$i.body.getReader();es()},function($i){Zi.emit('error',$i),Vi.callback($i)}),Zi}vo.withCredentials=!1,vo.DEFAULT_TIMEOUT=_o,vo.defaults=function(Vi){var Qi=function(es){return function(os,is){for(var ss in os='string'==typeof os?{uri:os}:JSON.parse(JSON.stringify(os)),Vi)void 0===os[ss]&&(os[ss]=Vi[ss]);return es(os,is)}},Zi=Qi(vo);return Zi.get=Qi(vo.get),Zi.post=Qi(vo.post),Zi.put=Qi(vo.put),Zi.head=Qi(vo.head),Zi};var Io=['get','put','post','head'];Io.forEach(function(Vi){var Ji=Vi.toUpperCase(),Qi=Vi.toLowerCase();vo[Qi]=function(Zi){'string'==typeof Zi?Zi={method:Ji,uri:Zi}:(Zi=JSON.parse(JSON.stringify(Zi)),Zi.method=Ji);var $i=[Zi].concat(Array.prototype.slice.apply(arguments,[1]));return vo.apply(this,$i)}});function xo(){}function Ro(){var Vi={},Ji=['trace','debug','info','warn','error'],Qi,Zi=void 0;for(Zi=0;Zi<Ji.length;Zi++)Qi=Ji[Zi],Vi[Qi]=xo,'undefined'!=typeof console&&console&&console[Qi]&&(Vi[Qi]=Ao(console,Qi));return Vi}function Ao(Vi,Ji){return function(Zi,$i){return'object'===('undefined'==typeof $i?'undefined':Sa($i))&&(Zi+=' '+JSON.stringify($i)),Vi[Ji](Zi)}}function Co(Vi){var Ji=/^([\w+.-]+:)(?:\/\/([^/?#:]*)(?::(\d+))?)?/,Qi;try{Qi=wo.location.href}catch(ns){Qi=document.createElement('a'),Qi.href='',Qi=Qi.href}var Zi=Ji.exec(Qi.toLowerCase())||[],$i=Ji.exec(Vi.toLowerCase()),es=!!($i&&($i[1]!==Zi[1]||$i[2]!==Zi[2]||($i[3]||('http:'===$i[1]?80:443))!==(Zi[3]||('http:'===Zi[1]?80:443))));return es}function Bo(Vi,Ji){return Object.prototype.hasOwnProperty.call(Vi,Ji)}var Lo=Array.isArray||function(Vi){return'[object Array]'===Object.prototype.toString.call(Vi)};function Po(Vi){switch(typeof Vi){case'string':return Vi;case'boolean':return Vi?'true':'false';case'number':return isFinite(Vi)?Vi:'';default:return'';}}function Oo(Vi,Ji,Qi,Zi){return Ji=Ji||'&',Qi=Qi||'=',null===Vi&&(Vi=void 0),'object'==typeof Vi?To(jo(Vi),function($i){var es=encodeURIComponent(Po($i))+Qi;return Lo(Vi[$i])?To(Vi[$i],function(ns){return es+encodeURIComponent(Po(ns))}).join(Ji):es+encodeURIComponent(Po(Vi[$i]))}).join(Ji):Zi?encodeURIComponent(Po(Zi))+Qi+encodeURIComponent(Po(Vi)):''}function To(Vi,Ji){if(Vi.map)return Vi.map(Ji);for(var Qi=[],Zi=0;Zi<Vi.length;Zi++)Qi.push(Ji(Vi[Zi],Zi));return Qi}var jo=Object.keys||function(Vi){var Ji=[];for(var Qi in Vi)Object.prototype.hasOwnProperty.call(Vi,Qi)&&Ji.push(Qi);return Ji};function qo(Vi,Ji,Qi,Zi){Ji=Ji||'&',Qi=Qi||'=';var $i={};if('string'!=typeof Vi||0===Vi.length)return $i;var es=/\+/g;Vi=Vi.split(Ji);var ns=1e3;Zi&&'number'==typeof Zi.maxKeys&&(ns=Zi.maxKeys);var as=Vi.length;0<ns&&as>ns&&(as=ns);for(var os=0;os<as;++os){var ds,ls,us,ps,is=Vi[os].replace(es,'%20'),ss=is.indexOf(Qi);0<=ss?(ds=is.substr(0,ss),ls=is.substr(ss+1)):(ds=is,ls=''),us=decodeURIComponent(ds),ps=decodeURIComponent(ls),Bo($i,us)?Lo($i[us])?$i[us].push(ps):$i[us]=[$i[us],ps]:$i[us]=ps}return $i}var Do={encode:Oo,stringify:Oo,decode:qo,parse:qo},Mo=4,Uo={1:'EINTERNAL (-1): An internal error has occurred. Please submit a bug report, detailing the exact circumstances in which this error occurred.',2:'EARGS (-2): You have passed invalid arguments to this command.',3:'EAGAIN (-3): A temporary congestion or server malfunction prevented your request from being processed. No data was altered. Retried '+Mo+' times.',4:'ERATELIMIT (-4): You have exceeded your command weight per time quota. Please wait a few seconds, then try again (this should never happen in sane real-life applications).',5:'EFAILED (-5): The upload failed. Please restart it from scratch.',6:'ETOOMANY (-6): Too many concurrent IP addresses are accessing this upload target URL.',7:'ERANGE (-7): The upload file packet is out of range or not starting and ending on a chunk boundary.',8:'EEXPIRED (-8): The upload target URL you are trying to access has expired. Please request a fresh one.',9:'ENOENT (-9): Object (typically, node or user) not found. Wrong password?',10:'ECIRCULAR (-10): Circular linkage attempted',11:'EACCESS (-11): Access violation (e.g., trying to write to a read-only share)',12:'EEXIST (-12): Trying to create an object that already exists',13:'EINCOMPLETE (-13): Trying to access an incomplete resource',14:'EKEY (-14): A decryption operation failed (never returned by the API)',15:'ESID (-15): Invalid or expired user session, please relogin',16:'EBLOCKED (-16): User blocked',17:'EOVERQUOTA (-17): Request over quota',18:'ETEMPUNAVAIL (-18): Resource temporarily not available, please try again later'},zo='https://eu.api.mega.co.nz/',No=function(Vi){function Ji(Qi){Ia(this,Ji);var Zi=Ca(this,(Ji.__proto__||Object.getPrototypeOf(Ji)).call(this));return Zi.keepalive=Qi,Zi.counterId=Math.random().toString().substr(2,10),Zi.gateway=zo,Zi.requestModule=vo,Zi}return Aa(Ji,Vi),xa(Ji,[{key:'request',value:function(Zi,$i){var es=this,ns=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,as={id:(this.counterId++).toString()};this.sid&&(as.sid=this.sid),'object'===Sa(Zi._querystring)&&(Object.assign(as,Zi._querystring),delete Zi._querystring),this.requestModule({uri:this.gateway+'cs',qs:as,method:'POST',json:[Zi],gzip:!0},function(os,is,ss){if(os)return $i(os);if(!ss)return $i(Error('Empty response'));if(ss.length&&(ss=ss[0]),!os&&'number'==typeof ss&&0>ss){if(-3===ss&&ns<Mo)return setTimeout(function(){es.request(Zi,$i,ns+1)},1e3*_Mathpow(2,ns+1));os=Error(Uo[-ss])}else es.keepalive&&ss&&ss.sn&&es.pull(ss.sn);$i(os,ss)})}},{key:'pull',value:function(Zi){var $i=this,es=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;this.sn=this.requestModule({uri:this.gateway+'sc',qs:{sn:Zi,sid:this.sid},method:'POST',json:!0,body:'sc?'+Do.stringify({sn:Zi})},function(ns,as,os){if($i.sn=void 0,!ns&&'number'==typeof os&&0>os){if(-3===os&&es<Mo)return setTimeout(function(){$i.pull(Zi,es+1)},1e3*_Mathpow(2,es+1));ns=Error(Uo[-os])}if(ns)throw ns;os.w?$i.wait(os.w,Zi):os.sn&&(os.a&&$i.emit('sc',os.a),$i.pull(os.sn))})}},{key:'wait',value:function(Zi,$i){var es=this;this.sn=this.requestModule({uri:Zi,method:'POST'},function(ns){if(es.sn=void 0,ns)throw Error('mega server wait req failed');es.pull($i)})}},{key:'close',value:function(){this.sn&&this.sn.abort()}}]),Ji}(Mt),Yo=S(function(Vi){function Ji(){this.source=null,this.dataSize=0,this.maxDataSize=1048576,this.pauseStream=!0,this._maxDataSizeExceeded=!1,this._released=!1,this._bufferedEvents=[]}var Qi=la.Stream;Vi.exports=Ji,Kn.inherits(Ji,Qi),Ji.create=function($i,es){var ns=new this;for(var as in es=es||{},es)ns[as]=es[as];ns.source=$i;var os=$i.emit;return $i.emit=function(){return ns._handleEmit(arguments),os.apply($i,arguments)},$i.on('error',function(){}),ns.pauseStream&&$i.pause(),ns},Object.defineProperty(Ji.prototype,'readable',{configurable:!0,enumerable:!0,get:function(){return this.source.readable}}),Ji.prototype.setEncoding=function(){return this.source.setEncoding.apply(this.source,arguments)},Ji.prototype.resume=function(){this._released||this.release(),this.source.resume()},Ji.prototype.pause=function(){this.source.pause()},Ji.prototype.release=function(){this._released=!0,this._bufferedEvents.forEach(function($i){this.emit.apply(this,$i)}.bind(this)),this._bufferedEvents=[]},Ji.prototype.pipe=function(){var $i=Qi.prototype.pipe.apply(this,arguments);return this.resume(),$i},Ji.prototype._handleEmit=function($i){return this._released?void this.emit.apply(this,$i):void('data'===$i[0]&&(this.dataSize+=$i[1].length,this._checkIfMaxDataSizeExceeded()),this._bufferedEvents.push($i))},Ji.prototype._checkIfMaxDataSizeExceeded=function(){if(!this._maxDataSizeExceeded&&!(this.dataSize<=this.maxDataSize)){this._maxDataSizeExceeded=!0;var $i='DelayedStream#maxDataSize of '+this.maxDataSize+' bytes exceeded.';this.emit('error',new Error($i))}}}),Fo=Yo&&'object'==typeof Yo&&'default'in Yo?Yo['default']:Yo,Wo=S(function(Vi){function Ji(){this.writable=!1,this.readable=!0,this.dataSize=0,this.maxDataSize=2097152,this.pauseStreams=!0,this._released=!1,this._streams=[],this._currentStream=null}var Zi=la.Stream,$i=Fo;Vi.exports=Ji,Kn.inherits(Ji,Zi),Ji.create=function(es){var ns=new this;for(var as in es=es||{},es)ns[as]=es[as];return ns},Ji.isStreamLike=function(es){return'function'!=typeof es&&'string'!=typeof es&&'boolean'!=typeof es&&'number'!=typeof es&&!Fe(es)},Ji.prototype.append=function(es){var ns=Ji.isStreamLike(es);if(ns){if(!(es instanceof $i)){var as=$i.create(es,{maxDataSize:Infinity,pauseStream:this.pauseStreams});es.on('data',this._checkDataSize.bind(this)),es=as}this._handleErrors(es),this.pauseStreams&&es.pause()}return this._streams.push(es),this},Ji.prototype.pipe=function(es,ns){return Zi.prototype.pipe.call(this,es,ns),this.resume(),es},Ji.prototype._getNext=function(){this._currentStream=null;var es=this._streams.shift();if('undefined'==typeof es)return void this.end();if('function'!=typeof es)return void this._pipeNext(es);es(function(as){var os=Ji.isStreamLike(as);os&&(as.on('data',this._checkDataSize.bind(this)),this._handleErrors(as)),this._pipeNext(as)}.bind(this))},Ji.prototype._pipeNext=function(es){this._currentStream=es;var ns=Ji.isStreamLike(es);if(ns)return es.on('end',this._getNext.bind(this)),void es.pipe(this,{end:!1});this.write(es),this._getNext()},Ji.prototype._handleErrors=function(es){var ns=this;es.on('error',function(as){ns._emitError(as)})},Ji.prototype.write=function(es){this.emit('data',es)},Ji.prototype.pause=function(){this.pauseStreams&&(this.pauseStreams&&this._currentStream&&'function'==typeof this._currentStream.pause&&this._currentStream.pause(),this.emit('pause'))},Ji.prototype.resume=function(){this._released||(this._released=!0,this.writable=!0,this._getNext()),this.pauseStreams&&this._currentStream&&'function'==typeof this._currentStream.resume&&this._currentStream.resume(),this.emit('resume')},Ji.prototype.end=function(){this._reset(),this.emit('end')},Ji.prototype.destroy=function(){this._reset(),this.emit('close')},Ji.prototype._reset=function(){this.writable=!1,this._streams=[],this._currentStream=null},Ji.prototype._checkDataSize=function(){if(this._updateDataSize(),!(this.dataSize<=this.maxDataSize)){var es='DelayedStream#maxDataSize of '+this.maxDataSize+' bytes exceeded.';this._emitError(new Error(es))}},Ji.prototype._updateDataSize=function(){this.dataSize=0;var es=this;this._streams.forEach(function(ns){ns.dataSize&&(es.dataSize+=ns.dataSize)}),this._currentStream&&this._currentStream.dataSize&&(this.dataSize+=this._currentStream.dataSize)},Ji.prototype._emitError=function(es){this._reset(),this.emit('error',es)}}),Ko=Wo&&'object'==typeof Wo&&'default'in Wo?Wo['default']:Wo,Ho=2147483647,Go=36,Xo=1,Vo=26,Jo=38,Qo=700,Zo=72,$o=128,ei='-',ti=/[^\x20-\x7E]/,ni=/[\x2E\u3002\uFF0E\uFF61]/g,ri={overflow:'Overflow: input needs wider integers to process','not-basic':'Illegal input >= 0x80 (not a basic code point)','invalid-input':'Invalid input'},ai=Go-Xo,oi=_Mathfloor,ii=_StringfromCharCode;function si(Vi){throw new RangeError(ri[Vi])}function di(Vi,Ji){for(var Qi=Vi.length,Zi=[];Qi--;)Zi[Qi]=Ji(Vi[Qi]);return Zi}function li(Vi,Ji){var Qi=Vi.split('@'),Zi='';1<Qi.length&&(Zi=Qi[0]+'@',Vi=Qi[1]),Vi=Vi.replace(ni,'.');var $i=Vi.split('.'),es=di($i,Ji).join('.');return Zi+es}function ui(Vi){for(var $i,es,Ji=[],Qi=0,Zi=Vi.length;Qi<Zi;)$i=Vi.charCodeAt(Qi++),55296<=$i&&56319>=$i&&Qi<Zi?(es=Vi.charCodeAt(Qi++),56320==(64512&es)?Ji.push(((1023&$i)<<10)+(1023&es)+65536):(Ji.push($i),Qi--)):Ji.push($i);return Ji}function pi(Vi){return di(Vi,function(Ji){var Qi='';return 65535<Ji&&(Ji-=65536,Qi+=ii(55296|1023&Ji>>>10),Ji=56320|1023&Ji),Qi+=ii(Ji),Qi}).join('')}function ci(Vi){return 10>Vi-48?Vi-22:26>Vi-65?Vi-65:26>Vi-97?Vi-97:Go}function fi(Vi,Ji){return Vi+22+75*(26>Vi)-((0!=Ji)<<5)}function gi(Vi,Ji,Qi){var Zi=0;for(Vi=Qi?oi(Vi/Qo):Vi>>1,Vi+=oi(Vi/Ji);Vi>ai*Vo>>1;Zi+=Go)Vi=oi(Vi/ai);return oi(Zi+(ai+1)*Vi/(Vi+Jo))}function mi(Vi){var Ji,Qi,Zi,$i,es,ns,as,os,is,ss,ds,us,ps,hs,fs,ls=[];for(Vi=ui(Vi),us=Vi.length,Ji=$o,Qi=0,es=Zo,ns=0;ns<us;++ns)ds=Vi[ns],128>ds&&ls.push(ii(ds));for(Zi=$i=ls.length,$i&&ls.push(ei);Zi<us;){for(as=Ho,ns=0;ns<us;++ns)ds=Vi[ns],ds>=Ji&&ds<as&&(as=ds);for(ps=Zi+1,as-Ji>oi((Ho-Qi)/ps)&&si('overflow'),Qi+=(as-Ji)*ps,Ji=as,ns=0;ns<us;++ns)if(ds=Vi[ns],ds<Ji&&++Qi>Ho&&si('overflow'),ds==Ji){for(os=Qi,is=Go;;is+=Go){if(ss=is<=es?Xo:is>=es+Vo?Vo:is-es,os<ss)break;fs=os-ss,hs=Go-ss,ls.push(ii(fi(ss+fs%hs,0))),os=oi(fs/hs)}ls.push(ii(fi(os,0))),es=gi(Qi,ps,Zi==$i),Qi=0,++Zi}++Qi,++Ji}return ls.join('')}function yi(Vi){return li(Vi,function(Ji){return ti.test(Ji)?'xn--'+mi(Ji):Ji})}function bi(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var wi=/^([a-z0-9.+-]+:)/i,vi=/:[0-9]*$/,Ei=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,ki=['<','>','"','`',' ','\r','\n','\t'],Si=['{','}','|','\\','^','`'].concat(ki),Ii=['\''].concat(Si),xi=['%','/','?',';','#'].concat(Ii),Ri=['/','?','#'],Ai=255,Ci=/^[+a-z0-9A-Z_-]{0,63}$/,Bi=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Li={javascript:!0,'javascript:':!0},Pi={javascript:!0,'javascript:':!0},Oi={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,'http:':!0,'https:':!0,'ftp:':!0,'gopher:':!0,'file:':!0};function Ti(Vi,Ji,Qi){if(Vi&&Pn(Vi)&&Vi instanceof bi)return Vi;var Zi=new bi;return Zi.parse(Vi,Ji,Qi),Zi}bi.prototype.parse=function(Vi,Ji,Qi){return ji(this,Vi,Ji,Qi)};function ji(Vi,Ji,Qi,Zi){if(!An(Ji))throw new TypeError('Parameter \'url\' must be a string, not '+typeof Ji);var $i=Ji.indexOf('?'),es=-1!==$i&&$i<Ji.indexOf('#')?'?':'#',ns=Ji.split(es),as=/\\/g;ns[0]=ns[0].replace(as,'/'),Ji=ns.join(es);var os=Ji;if(os=os.trim(),!Zi&&1===Ji.split('#').length){var is=Ei.exec(os);if(is)return Vi.path=os,Vi.href=os,Vi.pathname=is[1],is[2]?(Vi.search=is[2],Vi.query=Qi?qo(Vi.search.substr(1)):Vi.search.substr(1)):Qi&&(Vi.search='',Vi.query={}),Vi}var ss=wi.exec(os);if(ss){ss=ss[0];var ds=ss.toLowerCase();Vi.protocol=ds,os=os.substr(ss.length)}if(Zi||ss||os.match(/^\/\/[^@\/]+@[^@\/]+/)){var ls='//'===os.substr(0,2);ls&&!(ss&&Pi[ss])&&(os=os.substr(2),Vi.slashes=!0)}var us,ps,hs,fs;if(!Pi[ss]&&(ls||ss&&!Oi[ss])){var gs=-1;for(us=0;us<Ri.length;us++)ps=os.indexOf(Ri[us]),-1!==ps&&(-1==gs||ps<gs)&&(gs=ps);var ms,ys;for(ys=-1==gs?os.lastIndexOf('@'):os.lastIndexOf('@',gs),-1!==ys&&(ms=os.slice(0,ys),os=os.slice(ys+1),Vi.auth=decodeURIComponent(ms)),gs=-1,us=0;us<xi.length;us++)ps=os.indexOf(xi[us]),-1!==ps&&(-1==gs||ps<gs)&&(gs=ps);-1==gs&&(gs=os.length),Vi.host=os.slice(0,gs),os=os.slice(gs),Di(Vi),Vi.hostname=Vi.hostname||'';var vs='['===Vi.hostname[0]&&']'===Vi.hostname[Vi.hostname.length-1];if(!vs){var Es=Vi.hostname.split(/\./);for(us=0,hs=Es.length;us<hs;us++){var Ss=Es[us];if(Ss&&!Ss.match(Ci)){for(var Is='',Rs=0,As=Ss.length;Rs<As;Rs++)Is+=127<Ss.charCodeAt(Rs)?'x':Ss[Rs];if(!Is.match(Ci)){var Cs=Es.slice(0,us),Bs=Es.slice(us+1),Ls=Ss.match(Bi);Ls&&(Cs.push(Ls[1]),Bs.unshift(Ls[2])),Bs.length&&(os='/'+Bs.join('.')+os),Vi.hostname=Cs.join('.');break}}}}Vi.hostname=Vi.hostname.length>Ai?'':Vi.hostname.toLowerCase(),vs||(Vi.hostname=yi(Vi.hostname)),fs=Vi.port?':'+Vi.port:'';var Ps=Vi.hostname||'';Vi.host=Ps+fs,Vi.href+=Vi.host,vs&&(Vi.hostname=Vi.hostname.substr(1,Vi.hostname.length-2),'/'!==os[0]&&(os='/'+os))}if(!Li[ds])for(us=0,hs=Ii.length;us<hs;us++){var Os=Ii[us];if(-1!==os.indexOf(Os)){var Ts=encodeURIComponent(Os);Ts===Os&&(Ts=escape(Os)),os=os.split(Os).join(Ts)}}var js=os.indexOf('#');-1!==js&&(Vi.hash=os.substr(js),os=os.slice(0,js));var Ds=os.indexOf('?');if(-1===Ds?Qi&&(Vi.search='',Vi.query={}):(Vi.search=os.substr(Ds),Vi.query=os.substr(Ds+1),Qi&&(Vi.query=qo(Vi.query)),os=os.slice(0,Ds)),os&&(Vi.pathname=os),Oi[ds]&&Vi.hostname&&!Vi.pathname&&(Vi.pathname='/'),Vi.pathname||Vi.search){fs=Vi.pathname||'';var Ms=Vi.search||'';Vi.path=fs+Ms}return Vi.href=qi(Vi),Vi}function qi(Vi){var Ji=Vi.auth||'';Ji&&(Ji=encodeURIComponent(Ji),Ji=Ji.replace(/%3A/i,':'),Ji+='@');var Qi=Vi.protocol||'',Zi=Vi.pathname||'',$i=Vi.hash||'',es=!1,ns='';Vi.host?es=Ji+Vi.host:Vi.hostname&&(es=Ji+(-1===Vi.hostname.indexOf(':')?Vi.hostname:'['+this.hostname+']'),Vi.port&&(es+=':'+Vi.port)),Vi.query&&Pn(Vi.query)&&Object.keys(Vi.query).length&&(ns=Oo(Vi.query));var as=Vi.search||ns&&'?'+ns||'';return Qi&&':'!==Qi.substr(-1)&&(Qi+=':'),Vi.slashes||(!Qi||Oi[Qi])&&!1!==es?(es='//'+(es||''),Zi&&'/'!==Zi.charAt(0)&&(Zi='/'+Zi)):!es&&(es=''),$i&&'#'!==$i.charAt(0)&&($i='#'+$i),as&&'?'!==as.charAt(0)&&(as='?'+as),Zi=Zi.replace(/[?#]/g,function(os){return encodeURIComponent(os)}),as=as.replace('#','%23'),Qi+es+Zi+as+$i}bi.prototype.format=function(){return qi(this)},bi.prototype.resolve=function(Vi){return this.resolveObject(Ti(Vi,!1,!0)).format()},bi.prototype.resolveObject=function(Vi){if(An(Vi)){var Ji=new bi;Ji.parse(Vi,!1,!0),Vi=Ji}for(var es,Qi=new bi,Zi=Object.keys(this),$i=0;$i<Zi.length;$i++)es=Zi[$i],Qi[es]=this[es];if(Qi.hash=Vi.hash,''===Vi.href)return Qi.href=Qi.format(),Qi;if(Vi.slashes&&!Vi.protocol){for(var os,ns=Object.keys(Vi),as=0;as<ns.length;as++)os=ns[as],'protocol'!==os&&(Qi[os]=Vi[os]);return Oi[Qi.protocol]&&Qi.hostname&&!Qi.pathname&&(Qi.path=Qi.pathname='/'),Qi.href=Qi.format(),Qi}var is;if(Vi.protocol&&Vi.protocol!==Qi.protocol){if(!Oi[Vi.protocol]){for(var ls,ss=Object.keys(Vi),ds=0;ds<ss.length;ds++)ls=ss[ds],Qi[ls]=Vi[ls];return Qi.href=Qi.format(),Qi}if(Qi.protocol=Vi.protocol,!Vi.host&&!Pi[Vi.protocol]){for(is=(Vi.pathname||'').split('/');is.length&&!(Vi.host=is.shift()););Vi.host||(Vi.host=''),Vi.hostname||(Vi.hostname=''),''!==is[0]&&is.unshift(''),2>is.length&&is.unshift(''),Qi.pathname=is.join('/')}else Qi.pathname=Vi.pathname;if(Qi.search=Vi.search,Qi.query=Vi.query,Qi.host=Vi.host||'',Qi.auth=Vi.auth,Qi.hostname=Vi.hostname||Vi.host,Qi.port=Vi.port,Qi.pathname||Qi.search){var us=Qi.pathname||'',ps=Qi.search||'';Qi.path=us+ps}return Qi.slashes=Qi.slashes||Vi.slashes,Qi.href=Qi.format(),Qi}var hs=Qi.pathname&&'/'===Qi.pathname.charAt(0),fs=Vi.host||Vi.pathname&&'/'===Vi.pathname.charAt(0),gs=fs||hs||Qi.host&&Vi.pathname,ms=gs,ys=Qi.pathname&&Qi.pathname.split('/')||[],vs=Qi.protocol&&!Oi[Qi.protocol];is=Vi.pathname&&Vi.pathname.split('/')||[],vs&&(Qi.hostname='',Qi.port=null,Qi.host&&(''===ys[0]?ys[0]=Qi.host:ys.unshift(Qi.host)),Qi.host='',Vi.protocol&&(Vi.hostname=null,Vi.port=null,Vi.host&&(''===is[0]?is[0]=Vi.host:is.unshift(Vi.host)),Vi.host=null),gs=gs&&(''===is[0]||''===ys[0]));var Es;if(fs)Qi.host=Vi.host||''===Vi.host?Vi.host:Qi.host,Qi.hostname=Vi.hostname||''===Vi.hostname?Vi.hostname:Qi.hostname,Qi.search=Vi.search,Qi.query=Vi.query,ys=is;else if(is.length)ys||(ys=[]),ys.pop(),ys=ys.concat(is),Qi.search=Vi.search,Qi.query=Vi.query;else if(!xn(Vi.search))return vs&&(Qi.hostname=Qi.host=ys.shift(),Es=Qi.host&&0<Qi.host.indexOf('@')&&Qi.host.split('@'),Es&&(Qi.auth=Es.shift(),Qi.host=Qi.hostname=Es.shift())),Qi.search=Vi.search,Qi.query=Vi.query,In(Qi.pathname)&&In(Qi.search)||(Qi.path=(Qi.pathname?Qi.pathname:'')+(Qi.search?Qi.search:'')),Qi.href=Qi.format(),Qi;if(!ys.length)return Qi.pathname=null,Qi.path=Qi.search?'/'+Qi.search:null,Qi.href=Qi.format(),Qi;for(var Ss=ys.slice(-1)[0],Is=(Qi.host||Vi.host||1<ys.length)&&('.'===Ss||'..'===Ss)||''===Ss,Rs=0,As=ys.length;0<=As;As--)Ss=ys[As],'.'===Ss?ys.splice(As,1):'..'===Ss?(ys.splice(As,1),Rs++):Rs&&(ys.splice(As,1),Rs--);if(!gs&&!ms)for(;Rs--;Rs)ys.unshift('..');gs&&''!==ys[0]&&(!ys[0]||'/'!==ys[0].charAt(0))&&ys.unshift(''),Is&&'/'!==ys.join('/').substr(-1)&&ys.push('');var Cs=''===ys[0]||ys[0]&&'/'===ys[0].charAt(0);return vs&&(Qi.hostname=Qi.host=Cs?'':ys.length?ys.shift():'',Es=Qi.host&&0<Qi.host.indexOf('@')&&Qi.host.split('@'),Es&&(Qi.auth=Es.shift(),Qi.host=Qi.hostname=Es.shift())),gs=gs||Qi.host&&ys.length,gs&&!Cs&&ys.unshift(''),ys.length?Qi.pathname=ys.join('/'):(Qi.pathname=null,Qi.path=null),In(Qi.pathname)&&In(Qi.search)||(Qi.path=(Qi.pathname?Qi.pathname:'')+(Qi.search?Qi.search:'')),Qi.auth=Vi.auth||Qi.auth,Qi.slashes=Qi.slashes||Vi.slashes,Qi.href=Qi.format(),Qi},bi.prototype.parseHost=function(){return Di(this)};function Di(Vi){var Ji=Vi.host,Qi=vi.exec(Ji);Qi&&(Qi=Qi[0],':'!==Qi&&(Vi.port=Qi.substr(1)),Ji=Ji.substr(0,Ji.length-Qi.length)),Ji&&(Vi.hostname=Ji)}var Mi=S(function(Vi){function Ji(es){return this instanceof Ji?void(this._toSkip=es.skip,$i.call(this,es)):new Ji(es)}var $i=la.Transform;Kn.inherits(Ji,$i),Ji.prototype._transform=function(es,ns,as){0==this._toSkip?this.push(es):this._toSkip>es.length?this._toSkip-=es.length:(this._toSkip!==es.length&&this.push(es.slice(this._toSkip)),this._toSkip=0),as()},Vi.exports=Ji}),Ui=Mi&&'object'==typeof Mi&&'default'in Mi?Mi['default']:Mi,zi=new No(!1),Ni=function(Vi){function Ji(Qi){Ia(this,Ji);var Zi=Ca(this,(Ji.__proto__||Object.getPrototypeOf(Ji)).call(this));return Zi.checkConstructorArgument(Qi.downloadId),Zi.checkConstructorArgument(Qi.key),Zi.checkConstructorArgument(Qi.loadedFile),Zi.downloadId=Qi.downloadId,Zi.key=Qi.key?qa(Qi.key):null,Zi.type=Qi.directory?1:0,Zi.directory=!!Qi.directory,Zi.api=zi,Zi.loadedFile=Qi.loadedFile,Zi}return Aa(Ji,Vi),xa(Ji,[{key:'checkConstructorArgument',value:function(Zi){if('string'==typeof Zi&&!/^[\w-]+$/.test(Zi))throw Error('Invalid argument: "'+Zi+'"')}},{key:'loadMetadata',value:function(Zi,$i){if(this.size=$i.s||0,this.timestamp=$i.ts||0,this.type=$i.t,this.directory=!!$i.t,this.owner=$i.u,this.name=null,Zi&&$i.k){var es=$i.k.split(':');this.key=qa(es[es.length-1]),Zi.decryptECB(this.key),$i.a&&this.decryptAttributes($i.a)}}},{key:'decryptAttributes',value:function(Zi){var $i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){};Zi=Ma(Zi),Ua(this.key).decryptCBC(Zi);try{Zi=Ji.unpackAttributes(Zi)}catch(es){return $i(es)}return this.parseAttributes(Zi),$i(null,this),this}},{key:'parseAttributes',value:function(Zi){this.attributes=Zi,this.name=Zi.n,this.label=Ji.LABEL_NAMES[Zi.lbl||0],this.favorited=!!Zi.fav}},{key:'loadAttributes',value:function(Zi){var $i=this;'function'!=typeof Zi&&(Zi=function(as){if(as)throw as});var es=this.directory?{a:'f',c:1,ca:1,r:1,_querystring:{n:this.downloadId}}:{a:'g',p:this.downloadId};return this.api.request(es,function(ns,as){if(ns)return Zi(ns);if($i.directory){var os=Object.create(null),is=as.f,ss=is.find(function(Ls){return Ls.k&&Ls.h===Ls.k.split(':')[0]}),ds=$i.key?new Ta($i.key):null;$i.nodeId=ss.h,$i.timestamp=ss.ts,os[ss.h]=$i;var ps,ls=!0,us=!1;try{for(var fs,gs,hs=is[Symbol.iterator]();!(ls=(fs=hs.next()).done);ls=!0)if(gs=fs.value,gs!==ss){var ms=new Ji(gs,$i.storage);ms.loadMetadata(ds,gs),ms.downloadId=[$i.downloadId,gs.h],os[gs.h]=ms}}catch(Ls){us=!0,ps=Ls}finally{try{!ls&&hs.return&&hs.return()}finally{if(us)throw ps}}var Es,ys=!0,vs=!1;try{for(var Is,Ss=is[Symbol.iterator]();!(ys=(Is=Ss.next()).done);ys=!0){var Rs=Is.value,As=os[Rs.p];if(As){var Cs=os[Rs.h];As.children||(As.children=[]),As.children.push(Cs),Cs.parent=As}}}catch(Ls){vs=!0,Es=Ls}finally{try{!ys&&Ss.return&&Ss.return()}finally{if(vs)throw Es}}if($i.loadMetadata(ds,ss),$i.loadedFile){var Bs=os[$i.loadedFile];'undefined'==typeof Bs?Zi(Error('Node (file or folder) not found in folder')):Zi(null,Bs)}else Zi(null,$i)}else $i.size=as.s,$i.decryptAttributes(as.at,Zi)}),this}},{key:'download',value:function(Zi,$i){'function'==typeof Zi&&($i=Zi,Zi={}),Zi||(Zi={});var es=Zi.start||0,ns=Zi.returnCiphertext?es:es-es%16,as=Zi.end||null,os=Zi.maxConnections||4,is=Zi.initialChunkSize||131072,ss=Zi.chunkSizeIncrement||131072,ds=Zi.maxChunkSize||1048576,ls={a:'g',g:1,ssl:2};if(this.nodeId?ls.n=this.nodeId:Array.isArray(this.downloadId)?(ls._querystring={n:this.downloadId[0]},ls.n=this.downloadId[1]):ls.p=this.downloadId,this.directory)throw Error('Can\'t download: folder download isn\'t supported');if(!this.key&&!Zi.returnCiphertext)throw Error('Can\'t download: key isn\'t defined');var us=this.key&&!Zi.returnCiphertext?Na(this.key,{start:ns,disableVerification:0!==ns||null!==as}):new da,ps=ns===es?us:us.pipe(new Ui({skip:es-ns})),hs=this.api||zi,fs=Zi.requestModule||this.api.requestModule;return hs.request(ls,function(gs,ms){function ys(Ps){200===Ps.statusCode||ps.emit('error',509===Ps.statusCode?Error('Bandwidth limit reached: '+Ps.headers['x-mega-time-left']+' seconds until it resets'):Error('MEGA returned a '+Ps.statusCode+' status code'))}function vs(Ps){ps.emit('error',Error('Connection error: '+Ps.message))}if(gs)return ps.emit('error',gs);if('string'!=typeof ms.g||'http'!==ms.g.substr(0,4))return ps.emit('error',Error('MEGA servers returned an invalid response, maybe caused by rate limit'));if(as||(as=ms.s-1),es>as)return ps.emit('error',Error('You can\'t download past the end of the file.'));if(1===os){var Es=fs(ms.g+'/'+ns+'-'+as);Es.on('error',vs),Es.on('response',ys),Es.pipe(us)}else{var Ss=Ko.create(),Is=ns,Rs=is,As=!1;ps.on('error',function(){As=!0}),ps.on('close',function(){As=!0});var Cs=function Ps(){if(!As){var Os=_Mathmin(as,Is+Rs-1);if(!(Os<Is)){var Ts=fs(ms.g+'/'+Is+'-'+Os);Ts.on('end',Ps),Ts.on('error',vs),Ts.on('response',ys),Ss.append(Ts),Is=Os+1,Rs<ds&&(Rs+=ss)}}};Ss.on('error',function(Ps){return ps.emit('error',Ps)});for(var Bs=0;Bs<os;Bs++)Cs();Ss.pipe(us)}var Ls=0;ps.on('data',function(Ps){Ls+=Ps.length,ps.emit('progress',{bytesLoaded:Ls,bytesTotal:ms.s})})}),$i&&ba(ps,$i),ps}},{key:'link',value:function(Zi,$i){1===arguments.length&&'function'==typeof Zi&&($i=Zi,Zi={noKey:!1}),'boolean'==typeof Zi&&(Zi={noKey:Zi});var es='https://mega.nz/#'+(this.directory?'F':'')+'!'+this.downloadId;!Zi.noKey&&this.key&&(es+='!'+Da(this.key)),!Zi.noKey&&this.loadedFile&&(es+='!'+this.loadedFile),$i(null,es)}}]),Ji}(Mt);Ni.LABEL_NAMES=['','red','orange','yellow','green','blue','purple','grey'],Ni.fromURL=function(Vi){if('object'===('undefined'==typeof Vi?'undefined':Sa(Vi)))return new Ni(Vi);var Ji=Ti(Vi);if('mega.nz'!==Ji.hostname&&'mega.co.nz'!==Ji.hostname)throw Error('Invalid URL: wrong hostname');if(!Ji.hash)throw Error('Invalid URL: no hash');var Qi=Ji.hash.split('!');if('#'!==Qi[0]&&'#F'!==Qi[0])throw Error('Invalid URL: format not recognized');if(1>=Qi.length)throw Error('Invalid URL: too few arguments');if(Qi.length>=('#'===Qi[0]?4:5))throw Error('Invalid URL: too many arguments');return new Ni({downloadId:Qi[1],key:Qi[2],directory:'#F'===Qi[0],loadedFile:Qi[3]})},Ni.unpackAttributes=function(Vi){for(var Ji=0;Ji<Vi.length&&Vi.readUInt8(Ji);)Ji++;if(Vi=Vi.slice(0,Ji).toString(),'MEGA{"'!==Vi.substr(0,6))throw Error('Attributes could not be decrypted with provided key.');return JSON.parse(Vi.substr(4).replace(/\0|[^}]*$/g,''))};var Yi={},Fi=function(Vi){function Ji(Qi,Zi){Ia(this,Ji);var $i=Ca(this,(Ji.__proto__||Object.getPrototypeOf(Ji)).call(this,Qi));if($i.storage=Zi,$i.api=Zi.api,$i.nodeId=Qi.h,$i.timestamp=Qi.ts,$i.type=Qi.t,$i.directory=!!$i.type,Qi.k){var es=Qi.k.split(':')[0],ns=Zi.shareKeys[es],as=Zi.aes;ns&&(as=Yi[es],!as&&(as=Yi[es]=new Ta(ns))),$i.loadMetadata(as,Qi)}return $i}return Aa(Ji,Vi),xa(Ji,[{key:'loadAttributes',value:function(){throw Error('This is not needed for files loaded from logged in sessions')}},{key:'mkdir',value:function(Zi,$i){function es(ls){$i&&$i(ls)}var ns=this;if(!this.directory)throw Error('node isn\'t a directory');if('string'==typeof Zi&&(Zi={name:Zi}),Zi.attributes||(Zi.attributes={}),Zi.name&&(Zi.attributes.n=Zi.name),!Zi.attributes.n)throw Error('file name is required');if(Zi.target||(Zi.target=this),Zi.key||(Zi.key=H.from(ka(32))),32!==Zi.key.length)throw Error('wrong key length, must be 256bit');var as=Zi.key,os=Ji.packAttributes(Zi.attributes);Ua(as).encryptCBC(os);var is=H.from(as);this.storage.aes.encryptECB(is);var ss={a:'p',t:Zi.target.nodeId?Zi.target.nodeId:Zi.target,n:[{h:'xxxxxxxx',t:1,a:Da(os),k:Da(is)}]},ds=Hi(this.storage.shareKeys,this);0<ds.length&&(ss.cr=Wi(this.storage,[{nodeId:'xxxxxxxx',key:as}],ds)),this.api.request(ss,function(ls,us){if(ls)return es(ls);var ps=ns.storage._importFile(us.f[0]);ns.storage.emit('add',ps),$i&&$i(null,ps)})}},{key:'upload',value:function(Zi,$i,es){var ns=this;if(!this.directory)throw Error('node is not a directory');if(2===arguments.length&&'function'==typeof $i){var as=[$i,null];es=as[0],$i=as[1]}if('string'==typeof Zi&&(Zi={name:Zi}),Zi.attributes||(Zi.attributes={}),Zi.name&&(Zi.attributes.n=Zi.name),!Zi.attributes.n)throw Error('File name is required.');Zi.target||(Zi.target=this);var os,is=qa(Zi.key);is||(is=ka(24)),is instanceof H||(is=H.from(is));var ss=Zi.uploadCiphertext?32:24;if(is.length!==ss)throw Error('Wrong key length. Key must be 192bit');Zi.uploadCiphertext&&(os=is,is=Ya(is).slice(0,24)),Zi.key=is;var ds=[],ls=function(fs,gs,ms,ys){if(fs)return ps(fs);if(!ms||0===ms.length)return void ps(Error('Server returned a invalid response while uploading'));if((ds[gs]=ms,0!==gs||os||(os=ys.key),!Zi.thumbnailImage||ds[1])&&(!Zi.previewImage||ds[2])&&ds[0]){var vs=Ji.packAttributes(Zi.attributes);Ua(os).encryptCBC(vs);var Es=H.from(os);ns.storage.aes.encryptECB(Es);var Ss={h:Da(ds[0]),t:0,a:Da(vs),k:Da(Es)};1!==ds.length&&(Ss.fa=ds.slice(1).map(function(As,Cs){return Cs+'*'+Da(As)}).filter(function(As){return As}).join('/'));var Is={a:'p',t:Zi.target.nodeId?Zi.target.nodeId:Zi.target,n:[Ss]},Rs=Hi(ns.storage.shareKeys,ns);0<Rs.length&&(Is.cr=Wi(ns.storage,[{nodeId:Ss.h,key:os}],Rs)),ns.api.request(Is,function(As,Cs){if(As)return ps(As);var Bs=ns.storage._importFile(Cs.f[0]);ns.storage.emit('add',Bs),us.emit('complete',Bs),es&&es(null,Bs)})}};Zi.thumbnailImage&&this._uploadAttribute(Zi,Zi.thumbnailImage,1,ls),Zi.previewImage&&this._uploadAttribute(Zi,Zi.previewImage,2,ls);var us=this._upload(Zi,$i,0,ls),ps=function(fs){es?es(fs):us.emit('error',fs)};return us}},{key:'_upload',value:function(Zi,$i,es,ns){var as=this,os=Zi.uploadCiphertext?pa():za(Zi.key),is=pa().pause(),ss=ya(is,os),ds=Zi.size;return $i&&'function'!=typeof $i.pipe&&(ds=$i.length,ss.write($i),ss.end()),ds?this._uploadWithSize(ss,ds,os,is,es,null,ns):ss=ya(_a(function(ls){as._uploadWithSize(ss,ls,os,is,es,null,ns)}),ss),$i&&'function'==typeof $i.pipe&&$i.pipe(ss),ss}},{key:'_uploadAttribute',value:function(Zi,$i,es,ns){var as=this,os=function(ss,ds){if(ss)return ns(ss);var ls=ds.length,us=16*_Mathceil(ls/16)-ls;0!=us&&(ds=H.concat([ds,H.alloc(us)]));var ps=Zi.handle?Ua(Zi.key):new Ta(Zi.key.slice(0,16));ps.encryptCBC(ds);var hs=pa().pause(),fs=ya(hs);fs.write(ds),fs.end(),as._uploadWithSize(fs,ds.length,fs,hs,es,Zi.handle,ns)};return $i instanceof H?void os(null,$i):void ba($i,os)}},{key:'_uploadWithSize',value:function(Zi,$i,es,ns,as,os,is){var ss=this,ds=2,ls=0===as?{a:'u',ssl:ds,s:$i,ms:0,r:0,e:0,v:2}:{a:'ufa',ssl:ds,s:$i};os&&(ls.h=os),this.api.request(ls,function(us,ps){if(us)return is(us);var fs=ss.api.requestModule({method:'POST',uri:ps.p+'/'+(0===as?0:as-1),forever:!0,headers:{}});ba(fs,function(ms,ys){is(ms,as,ys,es)});var gs=0;es.on('data',function(ms){gs+=ms.length,Zi.emit('progress',{bytesLoaded:gs,bytesTotal:$i})}),es.on('end',function(){if($i&&gs!==$i)return Zi.emit('error',Error('Specified data size does not match: '+$i+' !== '+gs))}),es.pipe(fs),ns.resume()})}},{key:'uploadAttribute',value:function(Zi,$i,es){var ns=this;if('string'==typeof Zi&&(Zi=['thumbnail','preview'].indexOf(Zi)),0!==Zi&&1!==Zi)throw Error('Invalid attribute type');this._uploadAttribute({key:this.key,handle:this.nodeId},$i,Zi+1,function(as,os,is){if(as)return es(as);var ds={a:'pfa',n:ns.nodeId,fa:Zi+'*'+Da(is)};ns.api.request(ds,function(ls){return ls?es(ls):void es(null,ns)})})}},{key:'delete',value:function(Zi,$i){return'function'==typeof Zi&&($i=Zi,Zi=void 0),'undefined'==typeof Zi&&(Zi=this.parent===this.storage.trash),Zi?this.api.request({a:'d',n:this.nodeId},$i):this.moveTo(this.storage.trash,$i),this}},{key:'moveTo',value:function(Zi,$i){if('string'==typeof Zi&&(Zi=this.storage.files[Zi]),!(Zi instanceof Ni))throw Error('target must be a folder or a nodeId');var es={a:'m',n:this.nodeId,t:Zi.nodeId},ns=Hi(this.storage.shareKeys,Zi);return 0<ns.length&&(es.cr=Wi(this.storage,[this],ns)),this.api.request(es,$i),this}},{key:'setAttributes',value:function(Zi,$i){var es=this;Object.assign(this.attributes,Zi);var ns=Ji.packAttributes(this.attributes);return Ua(this.key).encryptCBC(ns),this.api.request({a:'a',n:this.nodeId,at:Da(ns)},function(){es.parseAttributes(es.attributes),$i&&$i()}),this}},{key:'rename',value:function(Zi,$i){return this.setAttributes({n:Zi},$i),this}},{key:'setLabel',value:function(Zi,$i){if('string'==typeof Zi&&(Zi=Ni.LABEL_NAMES.indexOf(Zi)),'number'!=typeof Zi||_Mathfloor(Zi)!==Zi||0>Zi||7<Zi)throw Error('label must be a integer between 0 and 7 or a valid label name');return this.setAttributes({lbl:Zi},$i),this}},{key:'setFavorite',value:function(Zi,$i){return this.setAttributes({fav:Zi?1:0},$i),this}},{key:'link',value:function(Zi,$i){var es=this;1===arguments.length&&'function'==typeof Zi&&($i=Zi,Zi={noKey:!1}),'boolean'==typeof Zi&&(Zi={noKey:Zi});var ns=Zi.__folderKey;return this.directory&&!ns?(this.shareFolder(Zi,$i),this):(this.api.request({a:'l',n:this.nodeId},function(as,os){if(as)return $i(as);var is='https://mega.nz/#'+(ns?'F':'')+'!'+os;!Zi.noKey&&es.key&&(is+='!'+Da(ns||es.key)),$i(null,is)}),this)}},{key:'shareFolder',value:function(Zi,$i){var es=this;if(!this.directory)throw Error('node isn\'t a folder');var ns=this.nodeId,as=this.storage.shareKeys[ns];if(as)return this.link(Object.assign({__folderKey:as},Zi),$i),this;var os=qa(Zi.key);if(os||(os=ka(16)),os instanceof H||(os=H.from(os)),16!==os.length)return void it(function(){$i(Error('share key must be 16 byte / 22 characters'))});this.storage.shareKeys[ns]=os;var is=H.from(ns+ns);this.storage.aes.encryptECB(is);var ss={a:'s2',n:ns,s:[{u:'EXP',r:0}],ok:Da(this.storage.aes.encryptECB(H.from(os))),ha:Da(is),cr:Wi(this.storage,this)};return this.api.request(ss,function(){es.link(Object.assign({__folderKey:os},Zi),$i)}),this}},{key:'unshareFolder',value:function(Zi,$i){var es={a:'s2',n:this.nodeId,s:[{u:'EXP',r:''}]};return delete this.storage.shareKeys[this.nodeId],this.api.request(es,function(){$i&&$i()}),this}}]),Ji}(Ni);Fi.packAttributes=function(Vi){var Ji=JSON.stringify(Vi);Ji=H.from('MEGA'+Ji);var Qi=H.alloc(16*_Mathceil(Ji.length/16));return Ji.copy(Qi),Qi};function Wi(Vi,Ji,Qi){var Zi=Vi.shareKeys;Array.isArray(Ji)||(Ji=Ki(Ji)),Qi||(Qi=Ji.map(function(is){return Hi(Zi,is)}).reduce(function(is,ss){return is.concat(ss)}).filter(function(is,ss,ds){return ss===ds.indexOf(is)}));for(var ns,$i=[Qi,Ji.map(function(is){return is.nodeId}),[]],es=Qi.length;es--;){ns=new Ta(Zi[Qi[es]]);for(var os,as=Ji.length;as--;)os=H.from(Ji[as].key),os&&(32===os.length||16===os.length)&&$i[2].push(es,as,Da(ns.encryptECB(os)))}return $i}function Ki(Vi){return[Vi].concat((Vi.children||[]).map(Ki).reduce(function(Ji,Qi){return Ji.concat(Qi)},[]))}function Hi(Vi,Ji){var Qi=Ji.nodeId,Zi=Ji.parent,$i=[];return Vi[Qi]&&$i.push(Qi),Zi?$i.concat(Hi(Vi,Zi)):$i}var Gi=function(Vi){function Ji(Qi,Zi){Ia(this,Ji);var $i=Ca(this,(Ji.__proto__||Object.getPrototypeOf(Ji)).call(this));if(1===arguments.length&&'function'==typeof Qi&&(Zi=Qi,Qi={}),!Qi.email)throw Error('starting a session without credentials isn\'t supported');return Zi||(Zi=function(ns){if(ns)throw ns}),Qi.keepalive=void 0===Qi.keepalive||!!Qi.keepalive,Qi.autoload=void 0===Qi.autoload||!!Qi.autoload,Qi.autologin=void 0===Qi.autologin||!!Qi.autologin,$i.api=new No(Qi.keepalive),$i.files={},$i.options=Qi,Qi.autologin?$i.login(Zi):Zi(null,$i),$i.status='closed',$i}return Aa(Ji,Vi),xa(Ji,[{key:'login',value:function(Zi){var $i=this,es=function(){$i.status='ready',Zi(null,$i),$i.emit('ready',$i)},ns=function(ds){$i.api.request({a:'ug'},function(ls,us){return ls?ds(ls):void($i.name=us.name,$i.user=us.u,$i.options.autoload?$i.reload(!0,function(ps){return ps?ds(ps):void es()}):es())})};this.email=this.options.email;var as=Oa(H.from(this.options.password));delete this.options.password;var os=new Ta(as),is=Da(os.stringhash(H.from(this.email)));this.api.request({a:'us',user:this.email,uh:is},function(ss,ds){if(ss)return Zi(ss);$i.key=qa(ds.k),os.decryptECB($i.key),$i.aes=new Ta($i.key);var ls=qa(ds.csid),us=$i.aes.decryptECB(qa(ds.privk)),ps=yo(us);if(!ps)throw Error('invalid credentials');var hs=Da(bo(ls,ps).slice(0,43));$i.api.sid=$i.sid=hs,$i.RSAPrivateKey=ps,ns(Zi)}),this.status='connecting'}},{key:'reload',value:function(Zi,$i){var es=this;if('function'==typeof Zi){var ns=[$i,Zi];Zi=ns[0],$i=ns[1]}return'connecting'!==this.status||Zi?void(this.mounts=[],this.api.request({a:'f',c:1},function(as,os){return as?$i(as):void(es.shareKeys=os.ok.reduce(function(is,ss){var ds=ss.h,ls=es.aes.encryptECB(H.from(ds+ds));return Wa(qa(ss.ha),ls)&&(is[ds]=es.aes.decryptECB(qa(ss.k))),is},{}),os.f.forEach(function(is){return es._importFile(is)}),$i(null,es.mounts))}),this.api.on('sc',function(as){var os={};as.forEach(function(is){if('u'===is.a){var ss=es.files[is.n];ss&&(ss.timestamp=is.ts,ss.decryptAttributes(is.at,function(){}),ss.emit('update'),es.emit('update',ss))}else'd'===is.a?os[is.n]=!0:'t'===is.a&&is.t.f.forEach(function(ds){var ls=es.files[ds.h];if(ls){delete os[ds.h];var us=ls.parent;if(us.nodeId===ds.p)return;us.children.splice(us.children.indexOf(ls),1),ls.parent=es.files[ds.p],ls.parent.children||(ls.parent.children=[]),ls.parent.children.push(ls),ls.emit('move',us),es.emit('move',ls,us)}else es.emit('add',es._importFile(ds))})}),Object.keys(os).forEach(function(is){var ss=es.files[is],ds=ss.parent;ds.children.splice(ds.children.indexOf(ss),1),es.emit('delete',ss),ss.emit('delete')})})):this.once('ready',this.reload.bind(this,Zi,$i))}},{key:'_importFile',value:function(Zi){if(!this.files[Zi.h]){var $i=this.files[Zi.h]=new Fi(Zi,this);if(Zi.t===Ji.NODE_TYPE_DRIVE&&(this.root=$i,$i.name='Cloud Drive'),Zi.t===Ji.NODE_TYPE_RUBBISH_BIN&&(this.trash=$i,$i.name='Rubbish Bin'),Zi.t===Ji.NODE_TYPE_INBOX&&(this.inbox=$i,$i.name='Inbox'),1<Zi.t&&this.mounts.push($i),Zi.p){var es=this.files[Zi.p];es.children||(es.children=[]),es.children.push($i),$i.parent=es}}return this.files[Zi.h]}},{key:'mkdir',value:function(Zi,$i){var es=this;return'ready'===this.status?this.root.mkdir(Zi,$i):void this.on('ready',function(){return es.root.mkdir(Zi,$i)})}},{key:'upload',value:function(Zi,$i,es){var ns=this;return'ready'===this.status?this.root.upload(Zi,$i,es):void this.on('ready',function(){return ns.root.upload(Zi,$i,es)})}},{key:'close',value:function(){this.status='closed',this.api.close()}}]),Ji}(Mt);Gi.NODE_TYPE_FILE=0,Gi.NODE_TYPE_DIR=1,Gi.NODE_TYPE_DRIVE=2,Gi.NODE_TYPE_INBOX=3,Gi.NODE_TYPE_RUBBISH_BIN=4;var Xi=Ni.fromURL;export{Gi as Storage,Ni as File,Xi as file,za as encrypt,Na as decrypt};